# Js

## 2022-12-21

![image-20221220114135104](https://cdn.jsdelivr.net/gh/yzk656/image/202212201141500.png)

![image-20221220121311366](https://cdn.jsdelivr.net/gh/yzk656/image/202212201213540.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function student(name,score){
        this.name=name;
        this.score=score;
    }

    student.prototype.print_score=function (){
        console.log("姓名:"+this.name+",分数："+this.score);
    }

    //创建对象
    var stu1=new student("杨振坤",100);
    // console.log(stu1);
    stu1.print_score();
</script>
</body>
</html>
```

简单地说，*JavaScript 是基于原型的语言*。当我们调用一个对象的属性时，如果对象没有该属性，JavaScript 解释器就会从对象的原型对象上去找该属性，如果原型上也没有该属性，那就去找原型的原型，直到最后返回null为止，null没有原型。这种属性查找的方式被称为原型链（prototype chain）。

```
var TestPrototype = function () {
    this.propA = 1;
    this.methodA = function() {
        return this.propA;
    }
}

TestPrototype.prototype = {
    methodB: function() {
        return this.propA;
    }
}

var objA = new TestPrototype();

objA.methodA() // 1
objA.methodB() // 1
```

字面量形式创建对象

![image-20221220140315594](https://cdn.jsdelivr.net/gh/yzk656/image/202212201403696.png)

![image-20221220140414545](https://cdn.jsdelivr.net/gh/yzk656/image/202212201404613.png)

![image-20221220140558877](https://cdn.jsdelivr.net/gh/yzk656/image/202212201405937.png)

![image-20221220140909982](https://cdn.jsdelivr.net/gh/yzk656/image/202212201409051.png)

![image-20221220141505401](https://cdn.jsdelivr.net/gh/yzk656/image/202212201415552.png)

![image-20221220141712099](https://cdn.jsdelivr.net/gh/yzk656/image/202212201417204.png)

方法是复杂数据类型，地址不同，就是不相等。会造成数据浪费

解决办法：在原型上添加属性和方法

![image-20221220143637080](https://cdn.jsdelivr.net/gh/yzk656/image/202212201436145.png)

![image-20221220144046446](https://cdn.jsdelivr.net/gh/yzk656/image/202212201440498.png)

![image-20221220144427860](https://cdn.jsdelivr.net/gh/yzk656/image/202212201444911.png)

![image-20221220145402684](https://cdn.jsdelivr.net/gh/yzk656/image/202212201454835.png)

**首先**，我们知道，构造函数是生成对象的模板，一个构造函数可以生成多个对象，每个对象都有相同的结构。构造函数的缺点就是，每当你实例化两个对象时，需要调用两次构造函数的某一个方法，这带来的坏处就是占用内存，而且没必要。

　　**其次**，为了解决构造函数的属性和方法无法被对象实例所共享的问题，我们可以把需要共享的属性和方法放在原型（prototype）对象上。原型对象上的所有属性和方法，都会被对象实例所共享。对于构造函数来说，prototype是作为构造函数的属性；对于对象实例来说，prototype是对象实例的原型对象。所以prototype即是属性，又是对象。

　　**然后**，除了undefined和null之外，每一个数据类型都可以看成一个对象，每一个对象都有它的原型。所有一切对象的原型顶端，都是Object.prototype，即Object构造函数的prototype属性指向的那个对象。当然，Object.prototype对象也有自己的原型对象，那就是没有任何属性和方法的null对象，而null对象没有自己的原型。

　　原型链的特点有：

　　**a：读取对象的某个属性时，JavaScript引擎先寻找对象本身的属性，如果找不到，就到它的原型去找，如果还是找不到，就到原型的原型去找。如果直到最顶层的`Object.prototype`还是找不到，则返回`undefined`。**

　　**b：如果对象自身和它的原型，都定义了一个同名属性，那么优先读取对象自身的属性，这叫做“覆盖”（overiding）。**

　　**c：一级级向上在原型链寻找某个属性，对性能是有影响的。所寻找的属性在越上层的原型对象，对性能的影响越大。如果寻找某个不存在的属性，将会遍历整个原型链。**

　　**再次**，constructor属性是原型对象上的一个属性，可以被所有实例对象所共享。要注意的是，prototype是构造函数的属性，而constructor则是构造函数的prototype属性所指向的那个对象，也就是原型对象的属性。由于constructor属性是一种原型对象和构造函数的关系，所以在修改原型对象的时候，一定要注意constructor的指向问题。

　　**最后**，instanceof运算符返回一个布尔值，用于判断对象是否为某个构造函数的实例。

![image-20221220150145304](https://cdn.jsdelivr.net/gh/yzk656/image/202212201501372.png)

![image-20221220150816004](https://cdn.jsdelivr.net/gh/yzk656/image/202212201508097.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
  function Person(name){
    this.name=name;
  }

  Person.prototype.abc="111";
  Person.prototype.f1=function (){
    console.log("原型上的方法");
  }

  var p1=new Person("yzk");
  var p2=new Person("wxy");

  console.log(Person.prototype===p2.__proto__);//true

  console.log(p1.abc);
  p1.f1();

</script>
</body>
</html>
```

1. 什么是原型？

	在JavaScript中原型是一个prototype对象，用于表示类型之间的关系。 原型对象的用途是为每个实例对象存储共享的方法和属性，它仅仅是一个普通对象而已。 并且所有的实例是共享同一个原型对象，因此有别于实例方法或属性，原型对象仅有一份

2. 函数和方法的区别

	总结：类（对象）里边的是方法，类（对象）外边的是函数
	函数（function）可以直接用函数名字调用
	方法（method）通过对象调用。
	把函数写在对象里面，就变成了对象的方法。
	方法是函数的特殊情况。只是函数是全局的，而方法是局部的，是将函数给了当前对象。

![image-20221220151513618](../../../AppData/Roaming/Typora/typora-user-images/image-20221220151513618.png)

![image-20221220151936247](https://cdn.jsdelivr.net/gh/yzk656/image/202212201519309.png)

![image-20221220152528190](https://cdn.jsdelivr.net/gh/yzk656/image/202212201525252.png)

![image-20221220152903659](https://cdn.jsdelivr.net/gh/yzk656/image/202212201529734.png)





我们为了简化添加原型属性或者方法，可以采用重构的方法，但是会导致consttructor丢失，因此我们在重构时，加上consructor属性。

![image-20221220153850423](https://cdn.jsdelivr.net/gh/yzk656/image/202212201538532.png)

![image-20221220153932948](https://cdn.jsdelivr.net/gh/yzk656/image/202212201539987.png)

![image-20221220154015372](https://cdn.jsdelivr.net/gh/yzk656/image/202212201540430.png)

原型链

![image-20221220154720943](https://cdn.jsdelivr.net/gh/yzk656/image/202212201547016.png)

![image-20221220154914522](https://cdn.jsdelivr.net/gh/yzk656/image/202212201549613.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>

    function Person(){

    }

    var p1=new Person();

    console.log(p1.__proto__);

    console.log(p1.__proto__.__proto__);
</script>
</body>
</html>
```

![image-20221220154928632](https://cdn.jsdelivr.net/gh/yzk656/image/202212201549663.png)

![image-20221220154948190](https://cdn.jsdelivr.net/gh/yzk656/image/202212201549223.png)

事例

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
  Object.prototype.buka=function (){
    alert('BUKA');
  }

  Array.prototype.sumBuka=function (){
    console.log(this);
  }

  var arr=[1,2,3];

  arr.sumBuka();



</script>
</body>
</html>
```

![image-20221220161429429](https://cdn.jsdelivr.net/gh/yzk656/image/202212201614500.png)

![image-20221220161444865](https://cdn.jsdelivr.net/gh/yzk656/image/202212201614936.png)

![image-20221220162236132](https://cdn.jsdelivr.net/gh/yzk656/image/202212201622439.png)

1. 对于继承，子类是不能使用父类原型对象的方法
1. 共有三种继承：普通继承、拷贝继承、原型继承

解决办法：使用拷贝

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

  function Person(name,age){
    this.name=name;
    this.age=age;
  }

  Person.prototype.say_hi=function (){
    console.log('你好');
  }

  function Student(name,age){
      //this  新创建的学生
    Person.call(this,name,age);
  }

  // var s1=new Student('杨振坤',19);
  // console.log(s1);              //Student {name: '杨振坤', age: 19}
  // s1.say_hi(); //拿不到这个方法

  //使用拷贝
  for(var key in Person.prototype){
      Student.prototype[key]=Person.prototype[key];
  }
  
  var s1=new Student('杨振坤',18);
  s1.say_hi();//你好



</script>
</body>
</html>
```

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

  function Person(name,age){
    this.name=name;
    this.age=age;
  }

  Person.prototype.say_hi=function (){
    console.log('你好');
  }

  function Student(name,age){
      //this  新创建的学生
    Person.call(this,name,age);
  }

  //继承
  // var s1=new Student('杨振坤',19);
  // console.log(s1);              //Student {name: '杨振坤', age: 19}
  // s1.say_hi(); //拿不到这个方法

  //使用拷贝继承
  // for(var key in Person.prototype){
  //     Student.prototype[key]=Person.prototype[key];
  // }
  //
  // var s1=new Student('杨振坤',18);
  // s1.say_hi();//你好


  //原型继承【person的实例对象能够拿到方法，直接给student使用】
  Student.prototype=new Person();
  var s1=new Student('杨振坤',19);
  s1.say_hi();//你好

</script>
</body>
</html>
```

函数进阶

![image-20221220192216398](https://cdn.jsdelivr.net/gh/yzk656/image/202212201922545.png)

![image-20221220200558927](https://cdn.jsdelivr.net/gh/yzk656/image/202212202005993.png)

构造函数：如用函数用来初始化(使用new运算符)一个新建的对象，我们称之为构造函数(constructor)

普通函数：不使用new运算符的函数就是普通函数

![image-20221220200720358](https://cdn.jsdelivr.net/gh/yzk656/image/202212202007415.png)

变量预解析

![image-20221220201640412](https://cdn.jsdelivr.net/gh/yzk656/image/202212202016473.png)

函数预解析

![image-20221220201939802](https://cdn.jsdelivr.net/gh/yzk656/image/202212202019855.png)

变量提升

主要看当前作用域内的变量是否影响到外部的了

函数比变量更优先

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var a = 1;

    function b() {
        a = 10;
        return;

        function a() {
            console.log(a);
        }
    }

    b();
    console.log(a);//1
</script>
</body>
</html>
```

js中变量名与函数名重名的问题

var a = 1;
function b(){
    a = 10;
    return;
    function a(){
        console.log(a);
    }	
}
b();
console.log(a); 
这题打印出a的值为多少呢？可能会有很多的同学认为打印出的值为10，但其实并不是，为什么呢？

误区1：变量提升

我想大家都明白，在执行函数b的时候，由于其内部有一句a=10，前面并没有var，所以在执行完函数b之后，认为变量a提升为全局变量，并且10这个值覆盖了之前的1。所以打印出的值为10。我想的话这是多数新手的思路。

这里有个知识点：

显示声明：var a = 1;

隐式声明：a = 1;

隐式声明会变量提升为全局变量

误区2：不知道函数声明也是有提升的

多数新手认为在执行函数b的时候，js执行代码自上往下，执行到return的时候退出函数，不再执行函数a，所以认为这个函数a根本不起作用。

js知识盲区：js预解析与解析变量声明的顺序

js预解析：在执行代码之前，js会预解析代码，代码中如果有变量声明和函数声明的话，那么便将变量声明和函数声明置顶，网上多数人认为函数声明置顶比变量声明置顶更优先。（事实上是如此吗？这里先埋一个坑，稍后再来讨论）

js解析声明变量的顺序：js在解析变量声明的时候，是分为两个步骤的。

比如这句代码：var a = 1;其实是分为（1）var a;（2）a=1;两个解析步骤来进行的。

好，讲完两个知识点，那么我将原代码改写成如下形式：

function b(){
    function a(){    //函数声明置顶
        console.log(a);
    }
    a = 10;
    return;	
}
var a;
a  = 1;
b();
console.log(a);
那么大家再来看看这段代码，觉得你们心目中的答案是多少呢？若是还是觉得等于10的话，那么就说明你们还没有考虑到本文要讲的重点：重名问题！

在讲解这段代码前，我还要给大家要普及一个知识点：作用域链（若是有不懂的同学，可以查阅链接：js闭包）。

好，懂作用域链的同学应该明白，在调用变量或者一个对象属性等的时候，==查找的顺序是由里向外的，js执行代码是自上往下的。==

那么我们再来分析刚才修改过后的代码：

1）先声明变量a，系统给变量a分配一个内存，注意，这里变量a暂时还不知道它的变量类型，因为还没有赋值；

2）a=1，给变量赋值为1，变量类型为number；

3）开始执行函数b，函数b内有一个函数名为a的函数声明，且函数a下面有一个变量名为a的变量，且赋值为10，这里便开始了难点分析。首先看函数a，由于在执行函数b的时候，并没有调用函数a，因此函数a并没有起作用；但是执行到a=10的时候，js是这样做的：1.首先查找变量a的地址，从系统内存中开始按照作用域链查找；2.由于作用域链的查找顺序是由里向外的，故要先从函数b里面开始查找；3.在查找的过程中，发现函数b中已经声明了一个函数名为a的函数（重名问题!），所以查找到函数名为a的函数后，这里便不再往外查找；4.所以这里的a=10其实是将10赋值给了函数名为a的这个函数对象！

有的同学会问为什么了。这样说吧，在函数b里面的时候，函数a提升置顶，跟变量类似（都在js中声明了），Js给这个函数a分配了内存，而恰巧的是在执行a=10的时候，优先查找的是与变量a同名的函数a，因为它所在的作用域最近！讲到这里，我想绝大多数的同学已经明白了这题为什么会打印1了吧？

因为既然a=10这个值10赋值给了函数对象a，那么在全局环境下运行console.log(a)，访问的是全局变量a，而全局变量a在系统内存中查找的值为1，所以打印的值为1.

那么同学们可以自行将函数b中的函数a给注释掉，看看打印的结果是什么？看代码：

function b(){
    a = 10;
    return;	
}
var a;
a  = 1;
b();
console.log(a);
答案很明显是10，为什么？大多数同学都知道的吧，是的，这里在函数b里的作用域里没有查找到名为a的对象或者变量，那么继续向外查找，发现在全局作用域里发现了有变量a的内存地址，于是将10这个值赋值给了全局变量a。

懂了？好，我们再将代码再修改一次，如下：

function b(){
    a = 10;
    return;	
}
b();
console.log(a);
这个很简单的吧？打印的值为多少呢？依旧是10对吧，为什么呢？是这样的，在执行函数b的时候，发现有一个隐式声明a=10，它在函数b里的作用域中查找不到有关于名为a的地址，于是向外查找，发现全局作用域下也没有，那么变量提升，系统默认给变量a提供一个内存，并将值赋值给变量a，所以变量a变量提升为全局变量了。所以打印出的值为10.

好，讲完这个，我们继续看看我刚才埋下的坑，现在大家来运行这两段代码：

代码1：

var a;
function a(){  
  console.log(10);  
}  
console.log(a);
代码2：

function a(){  
  console.log(10);  
}  
var a;
console.log(a);
运行之后我们会发现，两段代码运行的结果是一样的，均为：function a(){console.log(10)}。

这就应证了网上的说法：函数声明置顶比变量声明置顶更优先。如果不是的话，那么第二段代码应该打印undefined，可是为什么打印出的却是函数a呢？这个例子是否告诉我们变量声明置顶比函数声明置顶更优先？

但很明确的告知大家，函数声明置顶比变量声明置顶更优先。但上述的结果不是按照声明提升的思维来看，是因为在预解析阶段变量只声明了，但未赋值，而函数不一样，它在预解析阶段就已经声明和赋值了，它的值就是函数这个对象，而在打印的时候，打印是需要出具体的值的，而变量还未赋值，函数却已赋值了，所以两次运行结果均是function a(){console.log(10)}。如果去掉函数a，运行的结果是undefined，是因为a被初始化并赋值为undefined了。

变量名与函数名重名的总结：

1.要知道js解析变量声明的顺序

2.函数声明和变量声明会置顶且函数声明更优先！

3.作用域链的查找顺序是由里向外，js执行代码顺序是自上往下



作用域

![image-20221220215610021](https://cdn.jsdelivr.net/gh/yzk656/image/202212202156093.png)

1. fn
2. var a
3. a=10
4. fn，由于fn中没有a，向外查找，因此输出==10==

![image-20221220215904787](https://cdn.jsdelivr.net/gh/yzk656/image/202212202159857.png)

如果一个变量没有声明就直接使用，我们称他为隐式全局变量

![image-20221220220109098](https://cdn.jsdelivr.net/gh/yzk656/image/202212202201163.png)

预解析是不会执行``if`语句的

![image-20221220220535367](https://cdn.jsdelivr.net/gh/yzk656/image/202212202205434.png)

函数

![image-20221220221339916](https://cdn.jsdelivr.net/gh/yzk656/image/202212202213993.png)

![image-20221220221508745](https://cdn.jsdelivr.net/gh/yzk656/image/202212202215837.png)

![image-20221220222003083](https://cdn.jsdelivr.net/gh/yzk656/image/202212202220143.png)

![image-20221220222144708](https://cdn.jsdelivr.net/gh/yzk656/image/202212202221792.png)

![image-20221220222746701](https://cdn.jsdelivr.net/gh/yzk656/image/202212202227757.png)

![image-20221220223152709](https://cdn.jsdelivr.net/gh/yzk656/image/202212202231769.png)

![image-20221220223133005](https://cdn.jsdelivr.net/gh/yzk656/image/202212202231066.png)

## 2022-12-22

![image-20221221112214604](https://cdn.jsdelivr.net/gh/yzk656/image/202212211122726.png)

![image-20221221112527490](https://cdn.jsdelivr.net/gh/yzk656/image/202212211125562.png)

![image-20221221112903916](https://cdn.jsdelivr.net/gh/yzk656/image/202212211129981.png)

![image-20221221140830578](https://cdn.jsdelivr.net/gh/yzk656/image/202212211408666.png)

1. call会把toString进行重新绑定
2. getfun会获得一个方法，加上一个（【】）,就是进行传参使用方法

![image-20221221152347444](https://cdn.jsdelivr.net/gh/yzk656/image/202212211523525.png)

![image-20221221205215064](https://cdn.jsdelivr.net/gh/yzk656/image/202212212052258.png)

![image-20221221205538415](https://cdn.jsdelivr.net/gh/yzk656/image/202212212055567.png)

![ ](https://cdn.jsdelivr.net/gh/yzk656/image/202212212057083.png)

![image-20221221210138543](https://cdn.jsdelivr.net/gh/yzk656/image/202212212101612.png)

![image-20221221172031228](https://cdn.jsdelivr.net/gh/yzk656/image/202212211720423.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  var date_str='2015-10-10';
  var reg=/^\d{4}-\d{1,2}-\d{1,2}$/;
  console.log(reg.test(date_str));//true
</script>
</body>
</html>
```

![image-20221221212147570](https://cdn.jsdelivr.net/gh/yzk656/image/202212212121649.png)

match() 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。

## 2022-12-23

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

  var date ='2016-12-1';
  //正则表达式中的（）作为分组1使用，获取分组匹配的结果用Regex.$1,$2,$3来获取
  var reg=/(\d{4})-(\d{1,2})-(\d{1,2})/;
  if(reg.test(date)){
    console.log(RegExp.$1);//2016
    console.log(RegExp.$2);//12
    console.log(RegExp.$3);//1
  }

</script>
</body>
</html>
```

![image-20221223120808049](https://cdn.jsdelivr.net/gh/yzk656/image/202212231208313.png)

![image-20221223121319792](https://cdn.jsdelivr.net/gh/yzk656/image/202212231213882.png)

![image-20221223144953510](https://cdn.jsdelivr.net/gh/yzk656/image/202212231449649.png)

![image-20221223145149296](https://cdn.jsdelivr.net/gh/yzk656/image/202212231451389.png)

![image-20221223145347449](https://cdn.jsdelivr.net/gh/yzk656/image/202212231453536.png)

![image-20221223150504818](https://cdn.jsdelivr.net/gh/yzk656/image/202212231505901.png)

1. getElementById

2. getElementsByTagName

3. querySelector

4. querySelectorAll

5. getElementsByClassName

6. **getElementsByClassName** 是通过类名来获取元素，同名的类在HTML中也能存在多个，所以获取到的也是多个元素，同样是以集合的形式反回。

	 

![image-20221223185112688](https://cdn.jsdelivr.net/gh/yzk656/image/202212231851884.png)

![image-20221223193914434](https://cdn.jsdelivr.net/gh/yzk656/image/202212231939586.png)

![image-20221223195536129](https://cdn.jsdelivr.net/gh/yzk656/image/202212231955872.png)

![image-20221223200355700](https://cdn.jsdelivr.net/gh/yzk656/image/202212232003800.png)

```java
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <style>
    #box{
      width:100px;
      height: 100px;
      background: aqua;
    }
    #box1{
      width:30px;
      height: 30px;
      background: red;
      border-radius: 16px;
    }
  </style>
</head>
<body>
  <div id="box">

  </div>
<script>
  var div=document.querySelector('#box');
  div.onclick=function (){
    console.log(div.getAttribute('id'));
    this.setAttribute('id','box1');
  }


</script>
</body>
</html>
```

![image-20221223203754838](https://cdn.jsdelivr.net/gh/yzk656/image/202212232037950.png)

![image-20221223203912950](https://cdn.jsdelivr.net/gh/yzk656/image/202212232039027.png)

![image-20221223204029656](https://cdn.jsdelivr.net/gh/yzk656/image/202212232040749.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<img src="1.png" id="i">
<button class="btn1">设置</button>
<button class="btn2">获取</button>

<script>
  var image=document.querySelector('#i');
  var btn1=document.querySelector('.btn1');
  var btn2=document.querySelector('.btn2');
  btn1.onclick=function (){
    // image.alt="111";
    image.setAttribute('alt','222');
  }
  btn2.onclick=function (){
    console.log(image.alt);
  }
</script>
</body>
</html>
```

![image-20221223234904423](https://cdn.jsdelivr.net/gh/yzk656/image/202212232349599.png)

## 2022-12-24

![image-20221224104649290](https://cdn.jsdelivr.net/gh/yzk656/image/202212241046386.png)

![image-20221224104954713](https://cdn.jsdelivr.net/gh/yzk656/image/202212241049782.png)

![image-20221224123831904](https://cdn.jsdelivr.net/gh/yzk656/image/202212241238028.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>创建li</button>
<ul>
    <li>我是li</li>
</ul>

<script>

    var btn=document.querySelector('button');
    var ul=document.querySelector('ul');
    btn.onclick=function (){
        //创建一个新的li元素
        var new_li=document.createElement('li');
        //追加到ul中
        ul.appendChild(new_li);
        new_li.innerText='我是新来的li';
    };

</script>
</body>
</html>
```

![image-20221224124417767](https://cdn.jsdelivr.net/gh/yzk656/image/202212241244853.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>创建li</button>
<button>删除li</button>
<ul>
    <li>我是li</li>
</ul>

<script>

    var btn=document.querySelectorAll('button');
    var ul=document.querySelector('ul');
    btn[0].onclick=function (){
        //创建一个新的li元素
        var new_li=document.createElement('li');
        //追加到ul中
        ul.appendChild(new_li);
        new_li.innerText='我是新来的li';
    };
    btn[1].onclick=function (){
        ul.removeChild(ul.firstChild);
    }

</script>
</body>
</html>
```

![image-20221224124642910](https://cdn.jsdelivr.net/gh/yzk656/image/202212241246987.png)

firstElementChild 属性与firstChild, 属性的区别在于firstChild 返回第一个子节点作为元素节点，包含文本节点或注释节点（取决于哪个是第一个），而firstElementChild 返回第一个子节点作为元素节点（忽略文本和注释节点）。 该属性是只读的。

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>创建li</button>
<button>删除li</button>
<button>插入li</button>
<button>替换li</button>
<ul>
    <li>我是li</li>
</ul>

<script>

    var btn=document.querySelectorAll('button');
    var ul=document.querySelector('ul');
    btn[0].onclick=function (){
        //创建一个新的li元素
        var new_li=document.createElement('li');
        //追加到ul中
        ul.appendChild(new_li);
        new_li.innerText='我是新来的li';
    };
    btn[1].onclick=function (){
        ul.removeChild(ul.firstChild);
    };
    btn[2].onclick=function (){
        var new_li=document.createElement('li');
        new_li.innerText='我是新添加的li'
        ul.insertBefore(new_li,ul.firstChild);
    };
    btn[3].onclick=function (){
        var new_li=document.createElement('li');
        new_li.innerText='我是新替换的li';
        ul.replaceChild(new_li,ul.firstChild);
    }

</script>
</body>
</html>
```

![image-20221224141548154](https://cdn.jsdelivr.net/gh/yzk656/image/202212241415274.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>绑定事件</button>
<button>解绑事件</button>

<script>
  var btn1=document.querySelectorAll('button');
  var fn=function (){
    console.log(123);
  }

  btn1[0].addEventListener('click',fn);
  btn1[0].addEventListener('click',function (){
    console.log('456');
  });
  btn1[0].addEventListener('click',function (){
    console.log('789');
  });



  btn1[1].onclick=function (){
    btn1[0].removeEventListener('click',fn);
  }


</script>
</body>
</html>
```

![image-20221224151805509](https://cdn.jsdelivr.net/gh/yzk656/image/202212241518580.png)

![image-20221224151814170](https://cdn.jsdelivr.net/gh/yzk656/image/202212241518274.png)

![image-20221224152823536](https://cdn.jsdelivr.net/gh/yzk656/image/202212241528635.png)

## 2022-12-25

![image-20221224155429062](https://cdn.jsdelivr.net/gh/yzk656/image/202212241554250.png)

![image-20221225161954768](https://cdn.jsdelivr.net/gh/yzk656/image/202212251619844.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #div {
            width: 40px;
            height: 40px;
            background: hotpink;
            left: 0;
            top: 0;
            position: fixed;
        }
    </style>
</head>
<body>

<div id="div">
    111
</div>

<script>

    var div1 = document.querySelector('div');
    div1.onmousedown = function (e) {
        var x=e.offsetX;
        var y=e.offsetY;

        document.onmousemove=function (e){
            var xm=e.offsetX;
            var ym=e.offsetY;
            div1.style.left=(xm-x)+'px';
            div1.style.top=(ym-y)+'px';
        }

        document.onmouseup=function (){
            document.onmousemove=null;
        }
    }


</script>
</body>
</html>
```

![image-20221225171048959](https://cdn.jsdelivr.net/gh/yzk656/image/202212251710033.png)

![image-20221225185024102](https://cdn.jsdelivr.net/gh/yzk656/image/202212251850208.png)

![image-20221225185247657](https://cdn.jsdelivr.net/gh/yzk656/image/202212251852721.png)

![image-20221225185950964](https://cdn.jsdelivr.net/gh/yzk656/image/202212251859025.png)

![image-20221225190559693](https://cdn.jsdelivr.net/gh/yzk656/image/202212251905755.png)

![image-20221225191849049](https://cdn.jsdelivr.net/gh/yzk656/image/202212251918101.png)

## 2022-12-26

![image-20221225235726962](https://cdn.jsdelivr.net/gh/yzk656/image/202212252357082.png)

![image-20221226112953353](https://cdn.jsdelivr.net/gh/yzk656/image/202212261129473.png)

![image-20221226114736902](https://cdn.jsdelivr.net/gh/yzk656/image/202212261147954.png)

![image-20221226115246734](https://cdn.jsdelivr.net/gh/yzk656/image/202212261152788.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="../js/jquery-1.12.4.js"></script>
<script>
    window.onload=function (){
        console.log(111);
    };
    window.onload=function (){
        console.log(2222);
    };
    $(function (){
        console.log(1);
    });
    $(function (){
        console.log(2);
    });
</script>

</body>
</html>
```

![image-20221226115311690](https://cdn.jsdelivr.net/gh/yzk656/image/202212261153744.png)

![image-20221226121048525](https://cdn.jsdelivr.net/gh/yzk656/image/202212261210584.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击</button>
<ul>
  <li>1</li>
  <li>2</li>
  <li>3</li>
  <li>4</li>
</ul>

<script src="../js/jquery-1.12.4.js"></script>
<script>
  $(function (){
    $('button').click(function (){
      // $('ul li:first').css('background-color','lightblue');
      // $('ul li:last').css('background-color','lightpink');
      // $('ul li:eq(2)').css('background-color','red');
      $('ul li:even').css('background-color','lightblue');
      $('ul li:odd').css('background-color','lightpink');
    });
  });


</script>
</body>
</html>
```

![image-20221226143042361](https://cdn.jsdelivr.net/gh/yzk656/image/202212261430472.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        ul {
            list-style: none;
        }

        .tab_items ul {
            display: flex;
        }

        .tab_items li {
            width: 40px;
            height: 40px;
            background-color: hotpink;
            margin-right: 10px;
        }

        .tab_items .tab_active {
            background-color: red;
        }

        .tab_content div {
            width: 100px;
            height: 100px;
            text-align: center;
            line-height: 100px;
            background-color: palegreen;
            position: absolute;
        }
    </style>
</head>
<body>
<div class="tabs">
    <div class="tab_items">
        <ul>
            <li class="tab_active">tab1&nbsp;</li>
            <li>tab2&nbsp;</li>
            <li>tab3&nbsp;</li>
        </ul>
    </div>
    <div class="tab_content">
        <div class="tab_con" style="display: block">1</div>
        <div class="tab_con">2</div>
        <div class="tab_con">3</div>
    </div>
</div>
<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        $('.tab_items li').click(function () {
            $(this).addClass('tab_active').siblings().removeClass('tab_active');
            $('.tab_con').eq($(this).index()).show().siblings().hide();
        });
    });
</script>
</body>
</html>
```

![image-20221226202833182](https://cdn.jsdelivr.net/gh/yzk656/image/202212262028292.png)

![image-20221226205255850](https://cdn.jsdelivr.net/gh/yzk656/image/202212262052899.png)

![image-20221226205504669](https://cdn.jsdelivr.net/gh/yzk656/image/202212262055716.png)

![image-20221226205917269](https://cdn.jsdelivr.net/gh/yzk656/image/202212262059330.png)

![image-20221226221340723](https://cdn.jsdelivr.net/gh/yzk656/image/202212262213821.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        a {
            color: black;
            text-decoration: none;
        }

        li {
            padding: 5px 0;
        }

        .lv2{
            display: none;
        }
    </style>
</head>
<body>
<div class="menu">
    <ul>
        <li>
            <a href="#">个人中心</a>
            <ul class="lv2">
                <li><a href="#">修改密码</a></li>
                <li><a href="#">个人资料</a></li>
                <li><a href="#">注销用户</a></li>
            </ul>
        </li>
        <li>
            <a href="#">新闻中心</a>
            <ul class="lv2">
                <li><a href="#">新闻列表</a></li>
                <li><a href="#">添加新闻</a></li>
                <li><a href="#">新闻分类</a></li>
            </ul>
        </li>
        <li>
            <a href="#">产品中心</a>
            <ul class="lv2">
                <li><a href="#">产品列表</a></li>
                <li><a href="#">添加产品</a></li>
                <li><a href="#">产品分类</a></li>
            </ul>
        </li>
    </ul>
</div>


<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function (){
        $('.menu>ul>li').hover(function (){
            //动画或者效果一旦触发就会执行，如果多次触发就会造成多个动画进行排队执行，因此我们就需要stop函数去停止之前的动画
            $(this).find('.lv2').stop().slideToggle();
        });
    });


</script>
</body>
</html>
```

![image-20221226222114514](https://cdn.jsdelivr.net/gh/yzk656/image/202212262221583.png)

hover() 方法规定当鼠标指针悬停在被选元素上时要运行的两个函数。

方法触发 [mouseenter](https://www.runoob.com/jquery/event-mouseenter.html) 和 [mouseleave](https://www.runoob.com/jquery/event-mouseleave.html) 事件。

```
$("p").hover(function(){
    $("p").css("background-color","yellow");
},function(){
    $("p").css("background-color","pink");
});
```

轮播图

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #banner {
            width: 1920px;
            height: 600px;
            position: relative;
        }

        .banner .item {
            position: absolute;
            display: none;
        }

        .pagination {
            width: 100%;
            position: absolute;
            text-align: center;
            bottom: 20px;
        }

        .pagination span {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: transparent;
            border: 2px solid #fff;
            margin-right: 10px;
        }

        .pagination span.active {
            background-color: #ffffff;
        }

    </style>
</head>
<body>
<div id="banner">
    <div class="banner">
        <div class="item">
            <a href="#">
                <img src="../image/1.png">
            </a>
        </div>
        <div class="item">
            <a href="#">
                <img src="../image/2.png">
            </a>
        </div>
        <div class="item">
            <a href="#">
                <img src="../image/3.jpg">
            </a>
        </div>
        <div class="item">
            <a href="#">
                <img src="../image/4.png">
            </a>
        </div>
    </div>
    <div class="pagination">
        <span class="active"></span>
        <span></span>
        <span></span>
        <span></span>
    </div>
</div>

<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function () {
        var index = 0;
        var timer = null;

        timer = setInterval(function () {
            index++;
            if (index >= $('#banner .item').length) {
                index = 0;
            }
            $('.banner .item').eq(index).show().siblings().hide();
            $('.pagination span').eq(index).addClass('active').siblings().removeClass('active');
        }, 3000);
        $('.banner .item').hover(function () {
            clearInterval(timer);
        }, function () {

            timer = setInterval(function () {
                index++;
                if (index >= $('#banner .item').length) {
                    index = 0;
                }
                $('.banner .item').eq(index).show().siblings().hide();
                $('.pagination span').eq(index).addClass('active').siblings().removeClass('active');
            }, 3000);
        });

        $('.pagination span').click(function () {
            index = $(this).index();
            $('.banner .item').eq(index).show().siblings().hide();
            $('.pagination span').eq(index).addClass('active').siblings().removeClass('active');
        });
    });


</script>
</body>
</html>
```

## 2022-12-27

## 2022-12-28

![image-20221228092817459](https://cdn.jsdelivr.net/gh/yzk656/image/202212280928519.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul>
    <li title="li1" class="li-1"></li>
    <li>li2</li>
    <li>li3</li>
    <li>li4</li>
    <li>li5</li>
    <li>li6</li>
    <li>li7</li>
    <li>li8</li>
</ul>
<input type="checkbox" checked>
<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function (){
        //prop通常用来设置获取checked selected disabled
        // console.log($('input').prop('checked'));
        console.log($('input').attr('checked'));
        $('li').click(function (){
            $(this).attr({title:'新的title',index:'index'});
        });
    });
</script>
</body>
</html>
```

![image-20221228110602400](https://cdn.jsdelivr.net/gh/yzk656/image/202212281106453.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        li {
            animation-duration: 1s;
            /*animation-name:;*/
        }

        @keyframes move {
            0% {

            }
            50% {
                transform: translateY(-50%);
            }
            100% {
                transform: translate(0);
            }
        }
    </style>
</head>
<body>
<ul>
    <li title="li1" class="li-1">li1</li>
    <li>li2</li>
    <li>li3</li>
    <li>li4</li>
    <li>li5</li>
    <li>li6</li>
    <!--使用data-xx进行设置data属性-->
    <li data-index="7" data-duration="5">li7</li>
    <li>li8</li>
</ul>
<input type="checkbox" checked>
<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        //prop通常用来设置获取checked selected disabled
        // console.log($('input').prop('checked'));
        console.log($('input').attr('checked'));
        $('li').click(function () {
            // $(this).attr({title:'新的title',index:'index'});
            $(this).css({animationName: 'move'});
            // console.dir(this);

            //获取
            console.log(this.dataset);
            console.log(this.dataset['index']);
            console.log(this.dataset.duration);

            //设置
            this.dataset['forwaard'] = true;
            console.log(this.dataset);

            console.log(this.dataset['duration']);
            //可以将dataset中属性作为自己想要使用的属性
            if (this.dataset['duration']) {
                alert(111);
                $(this).css({'animation-duration': this.dataset['duration'] + 's'});
            }
        });
    });
</script>
</body>
</html>
```

全选

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<table>
    <tr>
        <td>
            <input type="checkbox" class="check_all">全选
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" class="chk">
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" class="chk">
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" class="chk">
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" class="chk">
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" class="chk">
        </td>
    </tr>
</table>
<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function () {
        $('.check_all').click(function () {
            console.log($(this).prop('checked'));
            $('.chk').prop('checked', $(this).prop('checked'));
        });
        $('.chk').click(function () {
            //$('.chk:checked')：用来获取chk中checked的属性有多少个
            if ($('.chk').length != $('.chk:checked').length) {
                $('.check_all').prop('checked', false);
            }else {
                $('.check_all').prop('checked', true);
            }
        });
    });

</script>
</body>
</html>
```

![image-20221228141547682](https://cdn.jsdelivr.net/gh/yzk656/image/202212281415750.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
</ul>
<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function (){
        console.log($('li').html());//<a href="#">首页</a>
        $('li').html('<a href="#">首页++</a>');
        // $('li').text('<a href="#">首页++</a>');
    });
</script>
</body>
</html>
```

val使其选中

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
    <li><a href="#">首页</a></li>
</ul>
<!--<input type="text">-->
<hr>
<button>点击</button>
<input type="checkbox" value="抽烟">抽烟
<input type="checkbox" value="喝酒">喝酒
<input type="checkbox" value="烫头">烫头
<input type="checkbox" value="打麻将">打麻将
<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function (){
        // console.log($('li').html());//<a href="#">首页</a>
        // $('li').html('<a href="#">首页++</a>');
        // $('li').text('<a href="#">首页++</a>');

        $('input').keyup(function (){
            console.log($(this).val());
        });

        $('button').click(function (){
            //使其获得选中状态
            $('input').val(['抽烟','喝酒']);
        });
    });
</script>
</body>
</html>
```

加减

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button disabled>-</button>
<input type="text" value="1" size="2">
<button>+</button>

<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        $('button').eq(0).click(function () {
            var a = $('input').val();
            var b = Number(a) - 1;
            if (b == 1) {
                $('button').eq(0).prop('disabled', true);
            }
            $('input').val(b);
        });
        $('button').eq(1).click(function () {
            var a = $('input').val();
            var b = Number(a) + 1;
            if (b > 1) {
                $('button').eq(0).prop('disabled', false);
            }
            $('input').val(b);
        });
        $(document).keyup(function (e) {
            if (e.keyCode == 13) {
                if ($('input').val() <= 0) {
                    $('input').val(1);
                } else {
                    $('input').eq(0).prop('disabled', false);
                }
            }
        });
    });
</script>
</body>
</html>
```

算账

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<span class="price">￥12</span>
<button disabled>-</button>
<input type="text" value="1" size="2">
<button>+</button>
<span class="total">￥12</span>

<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        $('button').eq(0).click(function () {
            var a = $('input').val();
            var b = Number(a) - 1;
            if (b == 1) {
                $('button').eq(0).prop('disabled', true);
            }
            $('input').val(b);
            get_sum();
        });
        $('button').eq(1).click(function () {
            var a = $('input').val();
            var b = Number(a) + 1;
            if (b > 1) {
                $('button').eq(0).prop('disabled', false);
            }
            $('input').val(b);
            get_sum();
        });
        $(document).keyup(function (e) {
            if (e.keyCode == 13) {
                if ($('input').val() <= 0) {
                    $('input').val(1);
                } else {
                    $('input').eq(0).prop('disabled', false);
                }
            }
        });

        function get_sum() {
            var price = $('.price').html().substring(1, $('.price').html().length);
            var num = Number($('input').val());

            var sum = price * num;
            $('.total').html('￥' + sum);
        }
    });
</script>
</body>
</html>
```



![image-20221228163043637](https://cdn.jsdelivr.net/gh/yzk656/image/202212281630725.png)

![image-20221228164525420](https://cdn.jsdelivr.net/gh/yzk656/image/202212281645484.png)

迭代

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="../js/jquery-1.12.4.js"></script>
<script>
    var arr = ['1', '2', '3', '4', '5'];
    $.each(arr, function (index, item) {
        console.log(index);
        console.log(item);
    });
</script>
</body>
</html>
```

## 2022-12-29

![image-20221229103854565](https://cdn.jsdelivr.net/gh/yzk656/image/202212291038771.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>添加</button>
<button>删除</button>
<button>clone</button>
<ul>
    <li><a href="#">li1</a></li>
    <li><a href="#">li2</a></li>
    <li><a href="#">li3</a></li>
    <li><a href="#">li4</a></li>
    <li><a href="#">li5</a></li>
    <li><a href="#">li6</a></li>
    <li><a href="#">li7</a></li>
    <li><a href="#">li8</a></li>
    <li><a href="#">li9</a></li>
</ul>
<ol>

</ol>
<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function () {
        $('button').click(function () {
            console.log($('<li class="li1"><a href="#">这就是创建元素</a></li>'));
            //ul进行追加元素
            // $('ul').append($('<li class="li1"><a href="#">这就是创建元素</a></li>'));
            // $('ul').append('<li class="li1"><a href="#">这就是创建元素</a></li>');

            //添加元素
            // $('ul').prepend('<li class="li1"><a href="#">这就是创建元素</a></li>');


            //before与after
            // $('ul').before('<h1>before</h1>');
            // $('ul').after('<h1>after</h1>');

        });

        $('button').eq(1).click(function (){
            //移除
            // console.log($('li:first').remove());
            //移除被选元素1
            // console.log($('li:first').detach());

            //清空被选元素1内容1
            // console.log($('li:first').empty());
            // console.log($('li:first').html(''));
        });

        //获取点击对象
        $('li').click(function (){
            console.log($(this).text());
        });

        $('button').eq(1).click(function (){
            $('ol').append($('li:first').remove());
        });

        $('button').eq(2).click(function (){
            $('ol').append($('li:first').clone());
        });
    });


</script>
</body>
</html>
```

表格

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        table {
            border: 1px solid black;
            width: 80%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid black;
        }
    </style>
</head>
<body>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>AGE</th>
        <th>GENDER</th>
        <th>DO</th>
    </tr>
    </thead>
    <tbody>

    </tbody>
</table>

<input type="text" placeholder="请输入你的计划">
<button>确定</button>

<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function () {
        var data = [
            {id: 1, name: 'tom', age: 3, gender: '男'},
            {id: 2, name: 'JERRY', age: 3, gender: '男'},
            {id: 3, name: '小明', age: 3, gender: '男'},
            {id: 4, name: '小兰', age: 3, gender: '女'},
            {id: 5, name: '小芳', age: 3, gender: '女'},
        ];

        $.each(data, function (index, item) {
            var html = `
                <tr data-name="${item.name}" class="tr-name">
                    <td>${item.id}</td>
                    <td>${item.name}</td>
                    <td>${item.age}</td>
                    <td>${item.gender}</td>
                    <td><a href="#" class="edit">编辑</a>|<a href="#" class="delete">删除</a></td>
                </tr>
            `;
            // console.log(item,html);
            $('tbody').append(html);
        });

        $('.delete').click(function (e) {
            var name = $(this).parents('td').siblings().eq(1).html();
            if (confirm('确认删除' + name + '?')) {
                // console.log(this);
                //不写dr会把整张表给删除
                $(this).parents('tr').detach();
            }
        });
    });


</script>
</body>
</html>
```

编辑

![image-20221229182631720](https://cdn.jsdelivr.net/gh/yzk656/image/202212291826750.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" placeholder="请输入你的计划">
<button>确定</button>
<input type="checkbox" class="check_all">全选 <a href="#">删除</a>
<ul>

</ul>

<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        $('button').click(function () {
            var value = $('input').val();
            var html = `
                <li>
                    <input type="checkbox" class="chk">${value} <a href="#" class="edit">编辑</a>|<a href="#">删除</a>
                </li>
            `;
            $('ul').append(html);
            $('input').val('');
        });
    });
</script>
</body>
</html>
```

![image-20221229182555463](https://cdn.jsdelivr.net/gh/yzk656/image/202212291825550.png)

jQuery animate() 方法

```
$("button").click(function(){
    $("#box").animate({height:"300px"});
});
```

电梯导航

![image-20221229215049360](https://cdn.jsdelivr.net/gh/yzk656/image/202212292150430.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        ul {
            list-style: none;
        }

        #header {
            height: 60px;
            background-color: #000;
        }

        #banner {
            height: 800px;
            background-color: lightsalmon;
        }

        .nav-f {
            position: fixed;
            width: 100%;
            height: 60px;
            left: 0;
            top: 0;
            background-color: rgb(0, 0, 0, 0.6);
        }

        .selection {
            height: 600px;
            margin: 0 auto;
            width: 1220px;
        }

        .selection:nth-child(1) {
            background-color: red;
        }

        .selection:nth-child(2) {
            background-color: green
        }

        .selection:nth-child(3) {
            background-color: blue;
        }

        .selection:nth-child(4) {
            background-color: yellow;
        }

        #footer {
            height: 200px;
            background-color: #000;
        }

        .back {
            position: fixed;
            right: 20px;
            bottom: 20px;
            padding: 10px;
            background-color: #eee;
            display: none;
        }

        .tool-bar {
            position: fixed;
            left: 100px;

            /**垂直居中**/
            top: 50%;
            transform: translateY(-50%);

            display: none;
        }

        .tool-bar .current {
            background-color: #c81623;
        }

        .tool-bar li {
            border: 1px solid #eee;
            padding: 10px 15px;
            cursor: pointer;
            background-color: #fff;
        }
    </style>
</head>
<body>
<div id="header">
    <nav>

    </nav>
</div>
<div id="banner"></div>
<div id="main">
    <div class="selection"></div>
    <div class="selection"></div>
    <div class="selection"></div>
    <div class="selection"></div>
</div>

<div id="footer"></div>

<div class="back">back</div>

<div class="tool-bar">
    <ul>
        <li class="current">家用电器</li>
        <li>电脑办公</li>
        <li>精品家居</li>
        <li>手机通讯</li>
    </ul>
</div>

<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function () {
        $(window).scroll(function () {
            if ($(this).scrollTop() > $('#header').outerHeight()) {
                $('nav').addClass('nav-f');
            } else {
                $('nav').removeClass('nav-f');
            }

            if ($(this).scrollTop() >= 300) {
                $('.back').fadeIn();
            } else {
                $('.back').fadeOut();
            }

            //$('#main').offset()有两个值，top、left
            // console.log($('#main').offset());

            if ($(this).scrollTop() >= $('#main').offset().top) {
                $('.tool-bar').fadeIn();
            } else {
                $('.tool-bar').fadeOut();
            }

            if ($(this).scrollTop() < $('#main .selection').eq(1).offset().top) {
                $('.tool-bar li').eq(0).addClass('current').siblings().removeClass('current');
            } else if ($(this).scrollTop() < $('#main .selection').eq(2).offset().top) {
                $('.tool-bar li').eq(1).addClass('current').siblings().removeClass('current');
            } else if ($(this).scrollTop() < $('#main .selection').eq(3).offset().top) {
                $('.tool-bar li').eq(2).addClass('current').siblings().removeClass('current');
            } else {
                $('.tool-bar li').eq(3).addClass('current').siblings().removeClass('current');
            }
        });

        $('.back').click(function () {
            $('html,body').animate({scrollTop: 0});
        });

        $('.tool-bar li').click(function () {
            var index = $(this).index();
            var scroll_top = $('#main .selection').eq(index).offset().top;

            $('html,body').animate({scrollTop: scroll_top});

            $(this).addClass('current').siblings().removeClass('current');
        });
    });

</script>
</body>
</html>
```

## 2022-12-30

slice(start, end) 方法可提取字符串的某个部分，并以新的字符串返回被提取的部分。

使用 start（包含） 和 end（不包含） 参数来指定字符串提取的部分。

![image-20221230170227399](https://cdn.jsdelivr.net/gh/yzk656/image/202212301702584.png)

把数字转换为字符串，结果的小数点后有指定位数的数字：

```
var num = 5.56789;
var n=num.toFixed(2);
```

![image-20221230172034882](https://cdn.jsdelivr.net/gh/yzk656/image/202212301720933.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>



<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function (){
       $(document).on('mouseenter click',function (){
           console.log(123);
       });
    });


</script>
</body>
</html>
```

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>



<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function (){
       // $(document).on('mouseenter click',function (){
       //     console.log(123);
       // });

        $(document).on({
            mouseenter:function (){
                console.log(1);
            },
            click:function (){
                console.log(2);
            }
        });
    });


</script>
</body>
</html>
```

![image-20221230172936218](https://cdn.jsdelivr.net/gh/yzk656/image/202212301729264.png)

![image-20221230190955604](https://cdn.jsdelivr.net/gh/yzk656/image/202212301909672.png)

在所有 <p> 元素上进行隐藏和显示之间的切换：

```
$("button").click(function(){
    $("p").toggle();
});
```

trigger用法

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #div{
            width: 200px;
            height: 200px;
            background-color: lightblue;
        }
    </style>
</head>
<body>
<button>点击</button>
<div id="div"></div>
<a href="https://www.bukaedu.com">不卡网校</a>

<form action="https://www.bukaedu.com">
    <button>点击</button>
</form>


<!--<ul>-->
<!--    <li>li1</li>-->
<!--    <li>li2</li>-->
<!--    <li>li3</li>-->
<!--    <li>li4</li>-->
<!--    <li>li5</li>-->
<!--    <li>li6</li>-->
<!--    <li>li7</li>-->
<!--    <li>li8</li>-->
<!--    <li>li9</li>-->
<!--</ul>-->
<script src="../js/jquery-1.12.4.js"></script>
<script>

    $(function () {
        // $(document).on('mouseenter click',function (){
        //     console.log(123);
        // });

        //使用{}包括，使用，分割
        // $(document).on({
        //     mouseenter: function () {
        //         console.log(1);
        //     },
        //     click: function () {
        //         console.log(2);
        //     }
        // });


        //事件委托
        // $('ul').on('click','li',function (){
        //     console.log(this);
        // });


        // $('button').click(function (){
        //     $('#div').toggle();
        // }).trigger('click');

        //因为点击后会自动1提交表单1，使用triggerHandler就不会提交表单，而是执行指定方法
        setTimeout(function (){
            $('button').click(function (){
                console.log(1);
            }).triggerHandler('click');
        },1000);
    });


</script>
</body>
</html>
```

## 2022-12-31

![image-20221231174205674](https://cdn.jsdelivr.net/gh/yzk656/image/202212311742867.png)

![image-20221231192214546](https://cdn.jsdelivr.net/gh/yzk656/image/202212311922671.png)

## 2023-01-01

pc适配与移动适配

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--用于响应式设计-->
        <meta name="viewport"
              content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
        <title>Title</title>
        <style>
            *{
                margin: 0;
                padding: 0;
            }

        .container {
            height: 60px;
            width: 1200px;
            margin: 0 auto;
            background-color: lightblue;
        }

        /**
            width:device-width  查询屏幕宽度
            initial-scale       初始缩放
            user-scalable       是否允许用户缩放
            maximum-scale       最大缩放
            minimum-scale       最小缩放
         */
        /*@media screen and (max-width: 1200px) {*/
        /*    .container {*/
        /*        width: 1024px;*/
        /*        background-color: lightcoral;*/
        /*    }*/
        /*}*/

        /*@media screen and (max-width: 1024px) {*/
        /*    .container {*/
        /*        width: 960px;*/
        /*        background-color: lightgreen;*/
        /*    }*/
        /*}*/

        /*    @media screen and (max-width: 720px) {*/
        /*        .container {*/
        /*            width: 100%;*/
        /*            background-color: lightpink;*/
        /*        }*/
        /*    }*/



            @media (min-width:768px ){
                .container{
                    width: 750px;
                    background-color: blue;
                }
            }

            @media (min-width:992px ){
                .container{
                    width: 970px;
                    background-color: green;
                }
            }

            @media (min-width:1200px ){
                .container{
                    width: 1170px;
                    background-color: red;
                }
            }
    </style>
</head>
<body>
<div class="container">
    <h1>卢卡</h1>
</div>


</body>
</html>
```

摘要: bootstrap栅栏系统css中的col-xs-*、col-sm-*、col-md-* 的意义：

.col-xs- 超小屏幕 手机 (<768px)

.col-sm- 小屏幕 平板 (≥768px)

.col-md- 中等屏幕 桌面显示器 (≥992px)

.col-lg- 大屏幕 大桌面显示器 (≥1200px)

2、xs-maxsmall，超小；sm-small，小；md-medium，中等；lg-large，大；

栅格系统

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <style>
        /*.container{*/
        /*    height: 60px;*/
        /*    background-color: red;*/
        /*}*/

        .container [class*=col]{
            height: 100px;
            border:1px solid red;
        }
    </style>
</head>
<body>
<!--<div class="container"></div>-->
<!--<div class="container-fluid"></div>-->


<div class="container">
    <div class="row">
        <div class="col-lg-3 col-md-4  col-sm-6">1</div>
        <div class="col-lg-3 col-md-4  col-sm-6">2</div>
        <div class="col-lg-3 col-md-4  col-sm-6">3</div>
        <div class="col-lg-3 col-md-4  col-sm-6 hidden-md">4</div>
    </div>
</div>


<script src="../js/jquery-1.12.4.js"></script>
<script src="../js/bootstrap.js"></script>
</body>
</html>
```

元素的总高度和宽度包含内边距和边框(padding 与 border) :

```
#example1 {
  box-sizing: border-box;
}
```

媒体查询

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hidden{
            display: block;
        }

        .items {
            overflow: hidden;
        }

        .item {
            border: 1px solid red;
            height: 200px;
            width: 25%;
            float: left;

        }
        
        @media screen and (max-width: 1200px){
            .item{
                width: 33.333333%;
            }
            .hidden{
                display: none;
            }
        }

        @media screen and (max-width: 960px){
            .item{
                width: 50%;
            }
            .hidden{
                display: block;
            }
        }

        @media screen and (max-width: 720px){
            .item{
                width: 100%;
            }
            .hidden{
                display: block;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="items">
        <div class="item">1</div>
        <div class="item">2</div>
        <div class="item">3</div>
        <div class="item hidden">4</div>
    </div>
</div>
</body>
</html>
```

使用bootstrap组件

![image-20230101203119326](https://cdn.jsdelivr.net/gh/yzk656/image/202301012031412.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <title>Title</title>
</head>
<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#my-nav">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">布卡科技</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="my-nav">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Link </a></li>
                <li><a href="#">首页</a></li>
                <li><a href="#">课程</a></li>
                <li><a href="#">娜姐</a></li>
                <li><a href="#">老冯</a></li>
                <li><a href="#">关于</a></li>
            </ul>
            <form class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">登录</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>


<script src="../js/jquery-1.12.4.js"></script>
<script src="../js/bootstrap.js"></script>
</body>
</html>
```

overflow:hidden（能够找到原位置）【加浮动也能解决】

能够解决margin-top父元素跟着子元素一起下来【父元素加overflow:hidden；父元素或者子元素加浮动】

![image-20230101204807875](https://cdn.jsdelivr.net/gh/yzk656/image/202301012048008.png)

导航条

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        ul{
            list-style:none;
        }

        a{
            text-decoration:none;
            color: #333;
            transition:all .3s;
        }

        a:hover{
            color: #43bc60;
        }

        #header {
            background-color: #eee;
            display: flex;
        }

        #header .logo {
            height: 60px;
            margin-right:20px ;
        }

        #header .logo img {
            height: 100%;
        }

        #header .nav{
            display: flex;
            flex: 1;
            justify-content: space-between; 
        }

        #header .nav ul{
            display: flex;
            align-items:center;
        }

        #header .nav li{
            padding: 5px 15px;
        }
    </style>
</head>
<body>
<div id="header">
    <div class="logo">
        <a href="index.html">
            <img src="../image/5.png" alt="">
        </a>
    </div>
    <div class="nav">
        <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">娜姐专区</a></li>
            <li><a href="#">老冯专区</a></li>
            <li><a href="#">静姐专区</a></li>
            <li><a href="#">璐姐专区</a></li>
            <li><a href="#">关于我们</a></li>
        </ul>
        <ul>
            <li><a href="#">登录</a></li>
            <li><a href="#">注册</a></li>
        </ul>
    </div>
</div>
</body>
</html>
```

## 2023-01-02

![image-20230102170436796](https://cdn.jsdelivr.net/gh/yzk656/image/202301021704907.png)

![image-20230102170515752](https://cdn.jsdelivr.net/gh/yzk656/image/202301021705817.png)

![image-20230102170900493](https://cdn.jsdelivr.net/gh/yzk656/image/202301021709547.png)

![image-20230102171515735](https://cdn.jsdelivr.net/gh/yzk656/image/202301021715789.png)

![image-20230102171959627](https://cdn.jsdelivr.net/gh/yzk656/image/202301021719695.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <style>
    /*
      横轴 、纵轴
    */
    .box{
      width: 300px;
      height: 300px;
      background-color: hotpink;
      display: flex;
      /*flex-direction:row-reverse;*/
      /*flex-direction: column;*/
      /*flex-direction:column-reverse;*/
      /*justify-content: flex-end;*/
      /*justify-content: center;*/
      /*justify-content:space-around;*/
      /*justify-content: space-between;*/
      /*flex-wrap: nowrap;*/
      /*flex-wrap: wrap;*/
      /*flex-flow:row wrap;*/
      /*align-items:flex-start;*/
      /*align-items: flex-end;*/
      /*align-items:center;*/
      align-items: stretch;
    }
    .box div{
      width: 50px;
      /*height: 50px;*/
      background-color: skyblue;
    }
  </style>
</head>
<body>
  <div class="box">
    <div class="z1">1</div>
    <div class="z2">2</div>
    <div class="z3">3</div>
    <div class="z1">4</div>
    <div class="z2">5</div>
    <div class="z3">6</div>
  </div>
</body>
</html>
```



![image-20230102172605978](https://cdn.jsdelivr.net/gh/yzk656/image/202301021726030.png)

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .box {
      width: 100px;
      height: 100px;
      background-color: red;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #ffffff;
    }
  </style>
</head>

<body>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
</body>

</html>
```

![image-20230102212659885](https://cdn.jsdelivr.net/gh/yzk656/image/202301022127045.png)

![image-20230102213054309](https://cdn.jsdelivr.net/gh/yzk656/image/202301022130357.png)

![image-20230102213248709](https://cdn.jsdelivr.net/gh/yzk656/image/202301022132764.png)

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    nav{
      width: 100%;
      height: 100px;
      background-color: green;
      display: flex;
      justify-content: center;
    }
    .box {
      width: 100px;
      height: 100px;
      background-color: red;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #ffffff;
    }
  </style>
</head>

<body>
<nav>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
  <div class="box">
    <div class="img">

    </div>
    <span>jack</span>
  </div>
</nav>
</body>

</html>
```

![image-20230102214110833](https://cdn.jsdelivr.net/gh/yzk656/image/202301022141901.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <style>
    .box{
      width: 820px;
      height: 100px;
      background-color: red;
      display: flex;
    }
    .box .z1{
      width: 120px;
      height: 100%;
      background-color: yellow;
    }
    .box .z{
      /*flex=1:所有子元素占一份，一共6个，每份1/6*/
      flex: 10%;
      /*width: 100px;*/
      height: 100%;
      background-color: blue;
    }
  </style>
</head>
<body>
<!--行内如果有具体值的子元素，具体值生效-->
<!--剩余子元素 flex 如果是百分数，按父元素宽高平均分配剩余空间-->
<div class="box">
  <div class="z1"></div>
  <div class="z"></div>
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
</div>
</body>
</html>
```



![image-20230102223835850](https://cdn.jsdelivr.net/gh/yzk656/image/202301022238919.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <style>
    .box{
      width: 820px;
      height: 400px;
      background-color: red;
      display: flex;
    }
    .box .z1{
      width: 120px;
      height: 100px;
      background-color: yellow;
      /*控制的是当前元素 justify-content是通过父元素进行控制的*/
      align-self: flex-end;
    }
    .box .z{
      /*flex=1:所有子元素占一份，一共6个，每份1/6*/
      flex: 10%;
      /*width: 100px;*/
      height: 100%;
      background-color: blue;
    }
  </style>
</head>
<body>
<!--行内如果有具体值的子元素，具体值生效-->
<!--剩余子元素 flex 如果是百分数，按父元素宽高平均分配剩余空间-->
<div class="box">
  <div class="z1"></div>
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
<!--  <div class="z"></div>-->
</div>
</body>
</html>
```



![image-20230102224600516](https://cdn.jsdelivr.net/gh/yzk656/image/202301022246594.png)

## 2023-01-03

html

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/05-携程.css">
</head>
<body>
<div class="xc">
  <!--搜索栏-->
  <div class="search">
    <input type="text">
    <div class="my">
      <div class="photo"></div>
      <span>nickname</span>
    </div>
  </div>

  <!--banner-->
  <div class="banner">
    <img src="" alt="">
      <ul>
        <li>
          <div class="img"></div>
          <span>攻略.景点</span>
        </li>
        <li>
          <div class="img"></div>
          <span>攻略.景点</span>
        </li>
        <li>
          <div class="img"></div>
          <span>攻略.景点</span>
        </li>
        <li>
          <div class="img"></div>
          <span>攻略.景点</span>
        </li>
        <li>
          <div class="img"></div>
          <span>攻略.景点1</span>
        </li>
      </ul>
  </div>

  <!--project-->
  <div class="project">
    <div class="hotel">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="ticket">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

<!--  footer-->
  <div class="footer">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
</body>
</html>
```

css

```
*{
    box-sizing: border-box;
}

.xc{
    width: 100%;
    padding: 50px 10px 0;
}
.xc .search{
    width: 100%;
    height: 50px;
    background-color: red;
    /*padding: 3px 5px;*/
    position: fixed;
    top:0;

    display: flex;
}

.xc .search input{
    flex:1;
    border-radius:35px;
    margin: 3px 5px;
}
.xc .search .my{
    height: 100%;
    width: 70px;
    background-color: pink;
}
/*search结束*/


/*banner 开始*/
.xc .banner{
    width: 100%;
    height: 170px;
    background-color: lightblue;

    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}
.sc .banner img{

}
.xc .banner ul{
    margin: 0;
    list-style: none;
    display: flex;
}
.xc .banner ul li{
    flex:1;
    flex-direction: column;
    display: flex;

    align-items: center;
}
.xc .banner ul li .img{
    width: 30px;
    height: 30px;
    /*flex:1;*/
    background-color: yellow;
}
.xc .banner ul li span{

}

/*project 开始*/
.project{
    margin: 10px 15px;
    /*width: 100%;*/
}

.project .hotel{
    height: 100px;
    background-color: hotpink;
    /*开启弹性布局后，span就没有行内块这一说了*/
    display: flex;
}

.project .hotel span:nth-child(1){
    width: 160px;
    background-color: red;
    height: 100%;
}

.project .hotel span:nth-child(2){
    flex:1;
}

.project .hotel span:nth-child(3){
    flex:2;
}
.project .ticket{

}

.project .ticket span{

}
```

## 2023-01-04

![image-20230104200735210](https://cdn.jsdelivr.net/gh/yzk656/image/202301042007364.png)

![image-20230104202214395](https://cdn.jsdelivr.net/gh/yzk656/image/202301042022470.png)

![image-20230104202545144](https://cdn.jsdelivr.net/gh/yzk656/image/202301042025206.png)

![image-20230104204839253](https://cdn.jsdelivr.net/gh/yzk656/image/202301042048312.png)

![image-20230104204953744](https://cdn.jsdelivr.net/gh/yzk656/image/202301042049809.png)

![image-20230105100825665](https://cdn.jsdelivr.net/gh/yzk656/image/202301051008733.png)

![image-20230105101230105](https://cdn.jsdelivr.net/gh/yzk656/image/202301051012192.png)

![image-20230105115708036](https://cdn.jsdelivr.net/gh/yzk656/image/202301051157133.png)

## 2023-01-05

![image-20230105124821321](https://cdn.jsdelivr.net/gh/yzk656/image/202301051248419.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="./css/bootstrap.css">
</head>
<style>
    .left {
        height: 300px;
        background-color: red;
    }

    .main {
        height: 800px;
        background-color: #2aabd2;
        padding: 0;
    }

    .main .m-top{
        height: 150px;
        background-color: #1b6d85;
    }

    .main .m-top .news-img{
        height: 100%;
        width: 170px;
        background-color: orange;
    }

    .main .m-top .news-more{

    }

    .main .m-top .news-more .news{
        height: 75px;
        background-color: green;
        border:1px solid white;
    }
</style>
<body>
<div class="box container">
    <div class="left col-sm-2 col-xs-12">

    </div>
    <div class="main col-sm-7 col-xs-12">
        <div class="m-top">
            <div class="news-img col-sm-5 hidden-xs"></div>
            <div class="news-more col-sm-7">
                <div class="news col-sm-6 col-xs-12"></div>
                <div class="news col-sm-6 col-xs-12"></div>
                <div class="news col-sm-6 col-xs-12"></div>
                <div class="news col-sm-6 col-xs-12"></div>
            </div>
        </div>
    </div>
    <div class="right col-sm-3 col-xs-12">

    </div>
</div>
</body>
</html>
```

## 2023-01-06

![image-20230107005115952](https://cdn.jsdelivr.net/gh/yzk656/image/202301070051116.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <style>
        /*使用框架时，引入的内容在自己写的内容之上*/
        .thumbnail img{
            width: 100%;
        }

        .my-tabs li.active a{
            color: lightpink;
        }
    </style>
    <title>Title</title>
</head>
<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#my-nav">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">布卡科技</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="my-nav">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Link </a></li>
                <li><a href="#">首页</a></li>
                <li><a href="#">课程</a></li>
                <li><a href="#">娜姐</a></li>
                <li><a href="#">老冯</a></li>
                <li><a href="#">关于</a></li>
            </ul>
            <form class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">登录</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../image/6.png" alt="..." class="img-responsive">
                <div class="caption">
                    <h3>冯老师</h3>
                    <p>归来不只是那个少年</p>
                    <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#"
                                                                                       class="btn btn-default"
                                                                                       role="button">Button</a></p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../image/7.jpeg" alt="..." class="img-responsive">
                <div class="caption">
                    <h3>大可老师</h3>
                    <p>首席讲师/CTO</p>
                    <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#"
                                                                                       class="btn btn-default"
                                                                                       role="button">Button</a></p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../image/8.jpg" alt="..." class="img-responsive">
                <div class="caption">
                    <h3>任龙老师</h3>
                    <p>高级讲师/移动端技术总监</p>
                    <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#"
                                                                                       class="btn btn-default"
                                                                                       role="button">Button</a></p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../image/9.png" alt="..." class="img-responsive">
                <div class="caption">
                    <h3>睿智老师LGG</h3>
                    <p>高级讲师/产品经理</p>
                    <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#"
                                                                                       class="btn btn-default"
                                                                                       role="button">Button</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div>

            <!-- Nav tabs -->
            <ul class="nav nav-tabs my-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Home</a></li>
                <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Profile</a></li>
                <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">Messages</a></li>
                <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="home">...</div>
                <div role="tabpanel" class="tab-pane" id="profile">...</div>
                <div role="tabpanel" class="tab-pane" id="messages">...</div>
                <div role="tabpanel" class="tab-pane" id="settings">...</div>
            </div>

        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-xs-6">
            <ul class="media-list">
                <li class="media">
                    <div class="media-left">
                        <a href="#">
                            <img class="media-object img-circle" src="../image/avator.jpg" alt="...">
                        </a>
                    </div>
                    <div class="media-body">
                        <h4 class="media-heading">哈哈哈，这也太好笑了</h4>
                        昨日，布卡科技发布了一条重磅新闻。。。
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<script src="../js/jquery-1.12.4.js"></script>
<script src="../js/bootstrap.js"></script>
</body>
</html>
```

## 2023-01-07

![image-20230107234148277](https://cdn.jsdelivr.net/gh/yzk656/image/202301072341486.png)

![image-20230108012605694](https://cdn.jsdelivr.net/gh/yzk656/image/202301080126916.png)

css文件

```
* {
    box-sizing: border-box;
}

.list-nostyle{
    list-style: none;
}

a {
    color: #333;
    text-decoration: none;
    transition: color .3s;
}

a:hover {
    color: #ff6700;
}

.container::before,
.container::after,
.clearfix::before,
.clearfix::after {
    content: '';
    display: table;
}

.container::after,
.clearfix::after {
    clear: both;
}

.container,
.clearfix {
    *zoom: 1;
}

.container {
    width: 1226px;
    margin: 0 auto;
}

#header .top {
    background-color: #333;
    color: white;
    font-size: 12px;
}

#header .top a {
    color: #eee;
}

#header .top-nav {
    float: left;
    color: #ccc;
    padding: 10px 0px;
}

#header .cart-bar,
#header .login-bar {
    float: right;
    padding: 10px 0;
}

#header .cart-bar {
    padding: 10px 25px;
    background-color: #666;
    margin-left: 10px;
    position: relative;
    z-index: 99;
}

#header .cart-bar .cart {
    position: absolute;
    top: 33px;
    right: 0;
    width: 320px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
    text-align: center;
    line-height: 100px;
    font-size: 16px;
    height: 0;
    overflow: hidden;
    transition: all 0.5s;
    z-index: -1;
    background-color: #fff;
}

#header .cart-bar:hover {
    color: #ff6700;
    background-color: #fff;
    transition: .3s;
}

#header .nav-bar{
    height: 100px;
}

#header .logo,
#header .nav{
    float: left;
}

#header .search{
    float: right;
    margin-top: 30px;
}

#header .logo{
    width: 56px;
    height: 56px;
    background: url("../image/10.png") no-repeat;
    background-size: 56px 56px;
    margin-top: 22px;
}

#header .search input,
#header .search button{
    float: left;
    height: 40px;
    padding: 10px;
    color: #666;
    outline: none;
    transition: all 0.3s;
}

#header .search input{
    font-size: 14px;
    width: 240px;
    border: 1px solid #e0e0e0;
}

#header .search button{
    border: 1px solid #e0e0e0;
    background-color: transparent;
    /*可以去掉边框*/
    margin-left: -1px;
}

#header .cart-bar:hover .cart {
    height: 100px;
}

#header .search .list{
    width: 240px;
    border:1px solid #ff6700;
    margin-top: 1px;
}

#header .search .list ul{
    list-style: none;
}

/*响应式*/

@media screen and (max-width: 1126px) {
    .container{
        padding: 0 15px;
        width: 100%;
    }
}

@media screen and (max-width: 1024px) {
    .hidden{
        display: none;
    }
}

@media screen and (max-width: 768px) {

}
```

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../fontello/css/fontello.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        #header .nav-bar{
            position: relative;
            z-index: 99;
            background-color: #fff;
        }

        #header .nav-bar .children{
            width: 100%;
            height: 0;
            border-top: 2px solid #eee;
            position: absolute;
            left: 0;
            box-shadow: 0 2px 10px rgba(0,0,0,.15);
            z-index: -2;
            background-color: #fff;
            transition: all .5s;
        }

        #header .nav-bar li:hover .children{
            height: 200px;
        }

        #header .nav ul{
            margin-top: 0;
            padding-left: 100px;
        }

        #header .nav li{
            float: left;
            line-height: 100px;
            padding: 0 15px;
        }
    </style>
</head>
<body>
<div id="header">
    <div class="top hidden">
        <div class="container">
            <div class="top-nav">
                <a href="#">小米商城</a>
                <span>|</span>
                <a href="#">MIUI</a>
                <span>|</span>
                <a href="#">LOT</a>
                <span>|</span>
                <a href="#">云服务</a>
                <span>|</span>
                <a href="#">天星数科</a>
                <span>|</span>
                <a href="#">有品</a>
                <span>|</span>
                <a href="#">小爱开发平台</a>
                <span>|</span>
                <a href="#">企业团购</a>
                <span>|</span>
                <a href="#">资质证照</a>
                <span>|</span>
                <a href="#">协议规则</a>
                <span>|</span>
                <a href="#">下载app</a>
                <span>|</span>
                <a href="#">智能生活</a>
                <span>|</span>
                <a href="#">Select Location</a>
                <span>|</span>
            </div>
            <div class="cart-bar">
                <span class="icon-cart-plus">购物车</span>
                <div class="cart">
                    空空如也！！！
                </div>
            </div>
            <div class="login-bar">
                <a href="#">登录</a>
                <span>|</span>
                <a href="#">注册</a>
                <span>|</span>
                <a href="#">消息通知</a>
            </div>
        </div>
    </div>
    <div class="nav-bar">
        <div class="container">
            <div class="logo"></div>
            <div class="nav">
                <ul class="list-nostyle">
                    <li>
                        <a href="#">小米手机</a>
                        <div class="children">

                        </div>
                    </li>
                    <li><a href="#">Redmi红米</a></li>
                    <li><a href="#">电视</a></li>
                    <li><a href="#">笔记本</a></li>
                    <li><a href="#">家电</a></li>
                    <li><a href="#">路由器</a></li>
                    <li><a href="#">智能硬件</a></li>
                    <li><a href="#">服务</a></li>
                    <li><a href="#">社区</a></li>
                </ul>
            </div>
            <div class="search">
                <form action="#" method="post">
<!--                    <input type="search" list="list">-->
                    <input type="search">
                    <button class="icon-search"></button>
                </form>
                <div class="list">
                    <ul class="list-nostyle">
                        <li>电视</li>
                        <li>电视</li>
                        <li>电视</li>
                        <li>电视</li>
                        <li>电视</li>
                    </ul>
                </div>
<!--                <datalist id="list">-->
<!--                    <option value="项目1">项目1</option>-->
<!--                    <option value="项目1">项目1</option>-->
<!--                    <option value="项目1">项目1</option>-->
<!--                    <option value="项目1">项目1</option>-->
<!--                    <option value="项目1">项目1</option>-->
<!--                </datalist>-->
            </div>
        </div>
    </div>
</div>

<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        $('#header .search input').focus(function (){
            $(this).css('border-color','#ff6700').siblings('button').css('border-color','#ff6700');
            $('#header .search .list').slideDown();
        }).blur(function (){
            $(this).css('border-color','#e0e0e0').siblings('button').css('border-color','#e0e0e0');
            $('#header .search .list').slideUp();
        });
    });
</script>
</body>
</html>
```

## 2023-01-08

## 2023-01-09

![image-20230109153218066](https://cdn.jsdelivr.net/gh/yzk656/image/202301091532241.png)

![image-20230109154045243](https://cdn.jsdelivr.net/gh/yzk656/image/202301091540329.png)

css

```css
* {
    box-sizing: border-box;
}

.list-nostyle{
    list-style: none;
}

a {
    color: #333;
    text-decoration: none;
    transition: color .3s;
}

a:hover {
    color: #ff6700;
}

.container::before,
.container::after,
.clearfix::before,
.clearfix::after {
    content: '';
    display: table;
}

.container::after,
.clearfix::after {
    clear: both;
}

.container,
.clearfix {
    *zoom: 1;
}

.container {
    width: 1226px;
    margin: 0 auto;
}

#header .top {
    background-color: #333;
    color: white;
    font-size: 12px;
}

#header .top a {
    color: #eee;
}

#header .top-nav {
    float: left;
    color: #ccc;
    padding: 10px 0px;
}

#header .cart-bar,
#header .login-bar {
    float: right;
    padding: 10px 0;
}

#header .cart-bar {
    padding: 10px 25px;
    background-color: #666;
    margin-left: 10px;
    position: relative;
    z-index: 99;
}

#header .cart-bar .cart {
    position: absolute;
    top: 33px;
    right: 0;
    width: 320px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
    text-align: center;
    line-height: 100px;
    font-size: 16px;
    height: 0;
    overflow: hidden;
    transition: all 0.5s;
    z-index: -1;
    background-color: #fff;
}

#header .cart-bar:hover {
    color: #ff6700;
    background-color: #fff;
    transition: .3s;
}

#header .nav-bar{
    height: 100px;
}

#header .logo,
#header .nav{
    float: left;
}

#header .search{
    float: right;
    margin-top: 30px;
}

#header .logo{
    width: 56px;
    height: 56px;
    background: url("../image/10.png") no-repeat;
    background-size: 56px 56px;
    margin-top: 22px;
}

#header .search input,
#header .search button{
    float: left;
    height: 40px;
    padding: 10px;
    color: #666;
    outline: none;
    transition: all 0.3s;
}

#header .search input{
    font-size: 14px;
    width: 240px;
    border: 1px solid #e0e0e0;
}

#header .search button{
    border: 1px solid #e0e0e0;
    background-color: transparent;
    /*可以去掉边框*/
    margin-left: -1px;
}

#header .cart-bar:hover .cart {
    height: 100px;
}

#header .search .list{
    width: 240px;
    border:1px solid #ff6700;
    margin-top: 1px;
}

#header .search .list ul{
    list-style: none;
}

/*响应式*/

@media screen and (max-width: 1126px) {
    .container{
        padding: 0 15px;
        width: 100%;
    }
}

@media screen and (max-width: 1024px) {
    .hidden{
        display: none;
    }
}

@media screen and (max-width: 768px) {

}

#header .nav-bar {
    position: relative;
    z-index: 99;
    background-color: #fff;
}

#header .nav-bar .children {
    width: 100%;
    height: 0;
    border-top: 2px solid #eee;
    position: absolute;
    left: 0;
    box-shadow: 0 2px 10px rgba(0, 0, 0, .15);
    z-index: -2;
    background-color: #fff;
    transition: all .5s;
}

#header .nav-bar li:hover .children {
    height: 200px;
}

#header .nav ul {
    margin-top: 0;
}

#header .nav li {
    float: left;
    line-height: 100px;
    padding: 0 15px;
}

.nav-bar > .container {
    position: relative;
}

.category {
    position: absolute;
    left: 0;
    top: 100px;
    background-color: rgba(105, 101, 101, .6);
}

.category ul {
    width: 234px;
    padding: 20px 0;
    transition: all .3s;
}

#header .category ul li {
    width: 100%;
    line-height: 42px;
    float: none;
}

#header .category ul li a {
    color: #fff;
    padding-left: 15px;
}

#header .category > ul > li:hover {
    background-color: #ff6700;
}

#header .category ul li .icon-right-open {
    color: #fff;
    float: right;
    margin-right: 5px;
}

.tu {
    float: right;
}

#header .category > ul .children1 {
    position: absolute;
    top: 0;
    left: 234px;
    height: 100%;
    display: none;

    background-color: #fff;
}

#header .category .children1 ul{
    width: 248px;
    padding: 0;
}

#header .category ul li:hover .children1{
    display: block;
}

#header .category .children1 li{
    line-height: 76px;
}

#header .category .children1 li span{
    color: #000;
    margin-top:0;
}

/*如何写一个宽高比例一定的盒子 更改屏幕宽度的时候 盒子的宽高比不变*/
/*rem 布局 不同屏幕大小rem相对屏幕比例相同*/

.main{
    margin:30px auto;
}

.hero{
    display: flex;
    justify-content: space-between;
    border:1px solid transparent;
}

.left{
    width: 234px;
    float: left;
}

.right{
    width: 978px;
    float: right;
}

.items{
    display: flex;
    justify-content: space-between;
}

.items .items-3{
    width: 316px;
}

.items-3 img{
    width: 100%;
}

.hero .left{
    background-color: #5f5750;
    color: #fff;
    text-align: center;
}

.hero .kill span{
    font-size: 24px;
}

.hero .kill{
    line-height: 2;
    margin-top: 1em;
}

.hero em{
    font-size: 30px;
}
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../fontello/css/fontello.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>
    </style>
</head>
<body>
<div id="header">
    <div class="top hidden">
        <div class="container">
            <div class="top-nav">
                <a href="#">小米商城</a>
                <span>|</span>
                <a href="#">MIUI</a>
                <span>|</span>
                <a href="#">LOT</a>
                <span>|</span>
                <a href="#">云服务</a>
                <span>|</span>
                <a href="#">天星数科</a>
                <span>|</span>
                <a href="#">有品</a>
                <span>|</span>
                <a href="#">小爱开发平台</a>
                <span>|</span>
                <a href="#">企业团购</a>
                <span>|</span>
                <a href="#">资质证照</a>
                <span>|</span>
                <a href="#">协议规则</a>
                <span>|</span>
                <a href="#">下载app</a>
                <span>|</span>
                <a href="#">智能生活</a>
                <span>|</span>
                <a href="#">Select Location</a>
                <span>|</span>
            </div>
            <div class="cart-bar">
                <span class="icon-cart-plus">购物车</span>
                <div class="cart">
                    空空如也！！！
                </div>
            </div>
            <div class="login-bar">
                <a href="#">登录</a>
                <span>|</span>
                <a href="#">注册</a>
                <span>|</span>
                <a href="#">消息通知</a>
            </div>
        </div>
    </div>
    <div class="nav-bar">
        <div class="container">
            <div class="logo"></div>
            <div class="nav">
                <ul class="list-nostyle">
                    <li>
                        <a href="#">全部品牌分类</a>
                        <div class="category">
                            <ul class="list-nostyle">
                                <li>
                                    <a href="#">手机 电话卡<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">电视 盒子<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">笔记本 显示器<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">家电 插线板<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">出行 穿戴<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">智能 路由器<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">电源 配件<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">健康 儿童<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">耳机 音响<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">生活 箱包<span class="icon-right-open"></span></a>
                                    <div class="children1">
                                        <ul class="list-nostyle">
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/13.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img src="../image/14.png" alt="">
                                                    <span>Redmi 12C</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="#">小米手机</a>
                        <div class="children">

                        </div>
                    </li>
                    <li><a href="#">Redmi红米</a></li>
                    <li><a href="#">电视</a></li>
                    <li><a href="#">笔记本</a></li>
                    <li><a href="#">家电</a></li>
                    <li><a href="#">路由器</a></li>
                    <li><a href="#">智能硬件</a></li>
                    <li><a href="#">服务</a></li>
                    <li><a href="#">社区</a></li>
                </ul>
            </div>
            <div class="search">
                <form action="#" method="post">
                    <!--                    <input type="search" list="list">-->
                    <input type="search">
                    <button class="icon-search"></button>
                </form>
                <div class="list" style="display: none">
                    <ul class="list-nostyle">
                        <li>电视</li>
                        <li>电视</li>
                        <li>电视</li>
                        <li>电视</li>
                        <li>电视</li>
                    </ul>
                </div>
                <!--                <datalist id="list">-->
                <!--                    <option value="项目1">项目1</option>-->
                <!--                    <option value="项目1">项目1</option>-->
                <!--                    <option value="项目1">项目1</option>-->
                <!--                    <option value="项目1">项目1</option>-->
                <!--                    <option value="项目1">项目1</option>-->
                <!--                </datalist>-->
            </div>
            <div class="tu">
                <img src="../image/12.png" alt="">
            </div>

        </div>
    </div>
</div>
<div class="main">
    <div class="container">
        <div class="hero">
            <div class="left">
                <h3>秒杀</h3>
                <em class="icon-clock"></em>
                <div class="kill">
                    <span class="t">00</span>
                    <span>天</span>
                    <span class="t">00</span>
                    <span>：</span>
                    <span class="t">00</span>
                    <span>：</span>
                    <span class="t">00</span>
                </div>
            </div>
            <div class="right">
                <div class="items">
                    <div class="items-3">
                        <img src="../image/p1.jpg" alt="">
                    </div>
                    <div class="items-3">
                        <img src="../image/p2.jpg" alt="">
                    </div>
                    <div class="items-3">
                        <img src="../image/p3.jpg" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<video src=""></video>

<script src="../js/jquery-1.12.4.js"></script>
<script>
    $(function () {
        $('#header .search input').focus(function () {
            $(this).css('border-color', '#ff6700').siblings('button').css('border-color', '#ff6700');
            $('#header .search .list').slideDown();
        }).blur(function () {
            $(this).css('border-color', '#e0e0e0').siblings('button').css('border-color', '#e0e0e0');
            $('#header .search .list').slideUp();
        });

        function kill(t){
            var f=new Date(t);
            var n=new Date();
            var d=Math.round((f.getTime()-n.getTime())/1000);

            /*天*/
            var D=Math.floor(d/60/60/24);
            /*小时*/
            var H=Math.floor(d/60/60%24);
            /*分钟*/
            var M=Math.floor(d/60%60);
            /*秒*/
            var S=d%60;

            return {
                day:D.toString().padStart(2,'0'),
                hour:H.toString().padStart(2,'0'),
                minute:M.toString().padStart(2,'0'),
                second:S.toString().padStart(2,'0')
            }
        }

        var t=kill('2023-1-20');

        $('.kill span.t').eq(0).html(t.day);
        $('.kill span.t').eq(1).html(t.hour);
        $('.kill span.t').eq(2).html(t.minute);
        $('.kill span.t').eq(3).html(t.second);

        setInterval(function (){
            // console.log(kill('2023-1-20'));
            var t=kill('2023-1-20');

            $('.kill span.t').eq(0).html(t.day);
            $('.kill span.t').eq(1).html(t.hour);
            $('.kill span.t').eq(2).html(t.minute);
            $('.kill span.t').eq(3).html(t.second);
        },1000)
    });
</script>
</body>
</html>
```

## 2023-01-10

![image-20230110233501335](https://cdn.jsdelivr.net/gh/yzk656/image/202301102335480.png)

![image-20230111011055323](https://cdn.jsdelivr.net/gh/yzk656/image/202301110110383.png)

![image-20230111011227664](https://cdn.jsdelivr.net/gh/yzk656/image/202301110112702.png)

## 2023-01-11

html

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
    <link rel="stylesheet" href="../css/normalize.css" />
    <link rel="stylesheet" href="../fontello/css/fontello.css">
    <link rel="stylesheet" href="style.css" />
    <script>
      (function (doc, win) {
        var docEl = doc.documentElement;
        var designWidth = 720;
        var baseWidth = 320;
        var baseFontSize = 100;
        var giveBaseWidth = 480;
        var giveBaseFontSize = (giveBaseWidth / designWidth) * baseFontSize;
        var resizeEvt =
          "orientationchange" in win ? "orientationchange" : "resize";
        recalc = function () {
          var clientWidth = docEl.clientWidth || baseWidth;
          if (clientWidth > designWidth) clientWidth = designWidth;
          var fontSize = (baseFontSize * clientWidth) / designWidth;
          fontSize = fontSize >= giveBaseFontSize ? giveBaseFontSize : fontSize;
          docEl.style.fontSize = fontSize + "px";
          docEl.style.opacity = 1;
        };
        doc.addEventListener &&
          (win.addEventListener(resizeEvt, recalc, false),
          doc.addEventListener("DOMContentLoaded", recalc, false));
      })(document, window);
      window.Tracker = {
        events: [],
        push: function (o) {
          this.events.push(o);
        },
      };
    </script>
  </head>
  <body>
    <div id="header">
      <div class="container">
        <div class="logo">
          <a href="#">
            <img src="../image/a5.png" alt="">
          </a>
        </div>
        <div class="search">
          <form action="#" method="post">
            <button class="icon-search"></button>
            <input type="search">
          </form>
        </div>
        <div class="user-info">
          <div class="user">
            <span class="icon-user"></span>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

```

css

```\
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
ul {
  list-style: none;
}
a {
  color: #333;
}
a:hover {
  color: #ff6700;
  text-decoration: none;
}
.container {
  width: 100%;
  max-width: 7.2rem;
  margin: 0 auto;
}
#header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  font-size: 34px;
  background-color: #eee;
  display: flex;
}

#header .container{
  display: flex;
  align-content: space-between;
}

#header .logo{
  margin: 0.2rem;
  width: .6rem;
}

#header .logo img{
  width: 100%;
  display: block;
}

#header.logo a{
  display: block;
}

#header .search{
  width: 5.2rem;
}
#header.search button{
  width: .6rem;
  height: .6rem;
  float: left;
}
#header.search input{
  /*width: 100%;*/
  width: 4.6rem;
  height:0.6rem;
  align-items: center;
  border: none;
  outline: none;
}

#header .container .user-info{
  font-size: 0.6rem;
  display: flex;
  align-items: center;
}
```

# Ajax

## 2023-01-12

![image-20230112001212692](https://cdn.jsdelivr.net/gh/yzk656/image/202301120012859.png)

![image-20230112001537351](https://cdn.jsdelivr.net/gh/yzk656/image/202301120015430.png)

![image-20230112001834116](https://cdn.jsdelivr.net/gh/yzk656/image/202301120018168.png)

![image-20230112001901611](https://cdn.jsdelivr.net/gh/yzk656/image/202301120019692.png)

![image-20230112002552189](https://cdn.jsdelivr.net/gh/yzk656/image/202301120025265.png)

![image-20230112002839835](https://cdn.jsdelivr.net/gh/yzk656/image/202301120028904.png)

![image-20230112003133530](https://cdn.jsdelivr.net/gh/yzk656/image/202301120031592.png)

```
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/',(request,response)=>{
    //设置响应
    response.send('hello express');
});

//4. 监听端口启动服务
app.listen(8000,()=>{
    console.log("服务已经启动，8000端口监听中。。。")
});
```

原生ajax

html

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #result{
            width: 200px;
            height: 100px;
            border: 1px solid #90b;
        }
    </style>
</head>
<body>
    <button>点击发送请求</button>
    <div id="result"></div>
</body>
</html>
```

js

```
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置响应体
    response.send('hello express');
});

//4. 监听端口启动服务
app.listen(8000,()=>{
    console.log("服务已经启动，8000端口监听中。。。")
});
```

![image-20230112115350905](https://cdn.jsdelivr.net/gh/yzk656/image/202301121153985.png)

html

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #result {
            width: 200px;
            height: 100px;
            border: 1px solid #90b;
        }
    </style>
</head>
<body>
<button>点击发送请求</button>
<div id="result"></div>

<script>
    const btn = document.querySelector('button');
    const result=document.querySelector('#result');
     btn.onclick = function () {
        //创建对象
        const xhr = new XMLHttpRequest();
        //初始化 设置请求方法和url
        xhr.open('GET', 'http://127.0.0.1:3000/server');
        //发送
        xhr.send();
        //事件绑定 处理服务端返回的结果
        xhr.onreadystatechange = function () {
            //判断（服务端返回了所有结果）
            if (xhr.readyState === 4) {
                //判断响应码 200 404 403 401 500
                //2XX  成功
                if (xhr.status >= 200 && xhr.status < 300) {
                    // console.log(xhr.status);//状态码
                    // console.log(xhr.statusText);//状态字符串
                    // console.log(xhr.getAllResponseHeaders());//所有响应头
                    // console.log(xhr.response);

                    result.innerHTML=xhr.response;
                } else {

                }
            }
        }

    }
</script>
</body>
</html>
```

```js
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置响应体
    response.send('hello Ajax');
});

//4. 监听端口启动服务
app.listen(3000,()=>{
    console.log("服务已经启动，3000端口监听中。。。")
});
```

步骤：

1. 终端打开3000端口：`node 03-server.js`
2. 点击按钮就能得到服务端拿到的数据

![](https://cdn.jsdelivr.net/gh/yzk656/image/202301121646569.png)

![image-20230112165501737](https://cdn.jsdelivr.net/gh/yzk656/image/202301121655789.png)

  

post请求

html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .result {
            width: 200px;
            height: 100px;
            border: 1px solid #ff6700;
        }
    </style>
</head>
<body>
<div class="result">

</div>
<script>
    const result = document.querySelector('.result');
    result.addEventListener("mouseover", function () {
        //创建对象
        const xhr = new XMLHttpRequest();
        //初始化 设置类型与url
        xhr.open('POST', 'http://127.0.0.1:3000/server');
        xhr.send();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300) {
                    result.innerHTML=xhr.response;
                }
            }
        };
    })
    ;</script>
</body>
</html>
```

js

```js
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置响应体
    response.send('hello Ajax');
});

app.post('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置响应体
    response.send('hello Ajax Post');
});

//4. 监听端口启动服务
app.listen(3000,()=>{
    console.log("服务已经启动，3000端口监听中。。。")
});
```

![image-20230112170936732](https://cdn.jsdelivr.net/gh/yzk656/image/202301121709795.png)

![image-20230112172903003](https://cdn.jsdelivr.net/gh/yzk656/image/202301121729083.png)

服务端响应JSON数据

![](https://cdn.jsdelivr.net/gh/yzk656/image/202301122132578.png)

html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .result {
            width: 200px;
            height: 100px;
            border: 1px solid #ff6700;
        }
    </style>
</head>
<body>
<div class="result">

</div>
<script>
    const result=document.querySelector('.result');
    window.onkeydown = function () {
        const xhr = new XMLHttpRequest();

        //设置响应体数据的类型
        xhr.responseType='json';

        xhr.open('GET', 'http://127.0.0.1:3000/json-server');
        xhr.send();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300) {
                    // console.log(xhr.response);
                    // result.innerHTML=xhr.response;

                    //手动对数据转换
                    // let data=JSON.parse(xhr.response);
                    // console.log(data);
                    // result.innerHTML=data.name;


                    //自动转换  23-24行
                    console.log(xhr.response);
                    result.innerHTML=xhr.response.name;
                }
            }
        };
    }
</script>
</body>
</html>
```

js

```js
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello Ajax');
});

//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //响应一个数据
    const data={
        name:'yangzhenkun'
    };

    //对对象进行字符串转换
    let str=JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//4. 监听端口启动服务
app.listen(3000,()=>{
    console.log("服务已经启动，3000端口监听中。。。")
});
```

安装nodemon

报错：

**nodemon : 无法加载文件 C:\Users\Yang\AppData\Roaming\npm\nodemon.ps1，因为在此系统上禁止运行脚本**

1.管理员身份打开powerShell
搜索powerShell，右键选择以管理员身份运行

2.输入set-ExecutionPolicy RemoteSigned
3 选择Y 或者A ，就好了

![image-20230112214118646](https://cdn.jsdelivr.net/gh/yzk656/image/202301122141733.png)

IE缓存问题

![image-20230112215558893](https://cdn.jsdelivr.net/gh/yzk656/image/202301122155973.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .result {
            width: 200px;
            height: 100px;
            border: 1px solid #ff6700;
        }
    </style>
</head>
<body>
<button>点击发送请求</button>
<div class="result"></div>
<script>
    const btn = document.querySelector('button');
    const result = document.querySelector('.result');

    btn.onclick=function (){
        const xhr=new XMLHttpRequest();
        xhr.open('GET','http://127.0.0.1:3000/ie?t='+Date.now());
        xhr.send();
        xhr.onreadystatechange=function (){
          if(xhr.readyState===4){
              if(xhr.status>=200&&xhr.status<300){
                    result.innerHTML=xhr.response;
              }
          }
        };
    }
</script>
</body>
</html>
```

```js
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello IE-1');
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //响应一个数据
    const data={
        name:'yangzhenkun'
    };

    //对对象进行字符串转换
    let str=JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//4. 监听端口启动服务
app.listen(3000,()=>{
    console.log("服务已经启动，3000端口监听中。。。")
});
```

网络超时问题

![image-20230112220930462](https://cdn.jsdelivr.net/gh/yzk656/image/202301122209545.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .result {
            width: 200px;
            height: 100px;
            border: 1px solid #ff6700;
        }
    </style>
</head>
<body>
<button>点击发送请求</button>
<div class="result"></div>
<script>
    const btn = document.querySelector('button');
    const result = document.querySelector('.result');

    btn.onclick=function (){
        const xhr=new XMLHttpRequest();

        //超时设置
        xhr.timeout=2000;
        //超时回调
        xhr.ontimeout=function (){
            alert('网络异常，请稍后再试！！！')
        };
        //网络异常回调
        xhr.onerror=function (){
          alert('你的网络似乎出l一些问题！！')
        };


        xhr.open('GET','http://127.0.0.1:3000/delay');
        xhr.send();
        xhr.onreadystatechange=function (){
            if(xhr.readyState===4){
                if(xhr.status>=200&&xhr.status<300){
                    result.innerHTML=xhr.response;
                }
            }
        };
    }
</script>
</body>
</html>
```

```js
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    // //定时器
    setTimeout(function (){
        //设置响应体
        response.send('延时响应');
    },3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //响应一个数据
    const data={
        name:'yangzhenkun'
    };

    //对对象进行字符串转换
    let str=JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//4. 监听端口启动服务
app.listen(3000,()=>{
    console.log("服务已经启动，3000端口监听中。。。")
});
```

取消请求

![image-20230112222407543](https://cdn.jsdelivr.net/gh/yzk656/image/202301122224635.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击发送</button>
<button>点击取消</button>
<script>
    const btns = document.getElementsByTagName('button');
    let xhr=null;

    btns[0].onclick = function () {
        xhr = new XMLHttpRequest();
        xhr.open('GET', 'http://127.0.0.1:3000/delay');
        xhr.send();
    };

    //取消使用到了xhr中的abort
    btns[1].onclick=function (){
        xhr.abort();
    };
</script>
</body>
</html>
```

```js
//1. 引入express
const express =require('express');

// 2. 创建应用对象
const app=express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    // //定时器
    setTimeout(function (){
        //设置响应体
        response.send('延时响应');
    },3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server',(request,response)=>{
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin','*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers','*');

    //响应一个数据
    const data={
        name:'yangzhenkun'
    };

    //对对象进行字符串转换
    let str=JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//4. 监听端口启动服务
app.listen(3000,()=>{
    console.log("服务已经启动，3000端口监听中。。。")
});
```

## 2023-01-13

Ajax请求重复发送问题

![image-20230112233504567](https://cdn.jsdelivr.net/gh/yzk656/image/202301122335631.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击发送</button>
<script>
    const btns = document.getElementsByTagName('button');
    let xhr=null;

    //标识变量
    let is_sending=false;// 是否正在发送Ajax请求

    btns[0].onclick = function () {
        //判断标识变量
        if(is_sending) xhr.abort();// 如果正在发送 则取消该请求，创建一个新的请求【会得到最新点击的那次回应】

        xhr = new XMLHttpRequest();

        //修改 标识变量的值
        is_sending=true;

        xhr.open('GET', 'http://127.0.0.1:3000/delay');
        xhr.send();


        xhr.onreadystatechange=function (){
            if(xhr.readyState===4){
                is_sending=false;
            }
        }
    };

    //取消使用到了xhr中的abort
    btns[1].onclick=function (){
        xhr.abort();
    };
</script>
</body>
</html>
```

```js
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击发送</button>
<button>点击取消</button>
<script>
    const btns = document.getElementsByTagName('button');
    let xhr=null;

    btns[0].onclick = function () {
        xhr = new XMLHttpRequest();
        xhr.open('GET', 'http://127.0.0.1:3000/delay');
        xhr.send();
    };

    //取消使用到了xhr中的abort
    btns[1].onclick=function (){
        xhr.abort();
    };
</script>
</body>
</html>
```

![image-20230112233552701](https://cdn.jsdelivr.net/gh/yzk656/image/202301122335784.png)

jquery发送Ajax请求

```html
<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap 101 Template</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

</head>
<body>

<div class="container">
    <h2 class="page-header">Jquery发送Ajax请求</h2>
    <button class="btn btn-primary">GET</button>
    <button class="btn btn-danger">POST</button>
    <button class="btn btn-info">通用型方法ajax</button>
</div>


<script>
    $('button').eq(0).click(function () {
        $.get('http://127.0.0.1:3000/jquery_server', {a: 100, b: 200}, function (data) {
            console.log(data);
        },'json');
    });

    $('button').eq(1).click(function () {
        $.post('http://127.0.0.1:3000/jquery_server', {a: 100, b: 200}, function (data) {
            console.log(data);
        });
    });

    $('button').eq(2).click(function (){
        $.ajax({
            //url
            url:'http://127.0.0.1:3000/jquery_server',
            // url:'http://127.0.0.1:3000/delay',
            //参数
            data:{a:100,b:200},
            //请求类型
            type:'GET',
            //响应体结果设置[目前不写输出的也是对象]
            dataType:'json',
            //成功的回调
            success:function (data){//参数data 必须要写上
                console.log(data);
            },

            //超时时间
            timeout:2000,
            //失败的回溯[超时或者网络异常]
            error:function (){
                alert('超时出错了！！！');
            },

            //设置头信息[路由规则需要设置特殊响应头]
            headers:{
                c:300,
                d:400
            }
        });
    });
</script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

axios发送ajax请求

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.2.2/axios.js"></script>
</head>
<body>
<button>GET</button>
<button>POST</button>
<button>AJAX</button>

<script>
    const btns = document.querySelectorAll('button');

    //配置baseURL
    axios.defaults.baseURL='http://127.0.0.1:3000';

    btns[0].onclick = function () {
        //Get请求
        axios.get('/axios_server',{
            //url参数
            params:{
              id:100,
              vip:7
            },

            //请求头信息
            headers:{
                name:'yangzhenkun',
                age:20
            }
        }).then(value => {
            console.log(value);
        });
    };

    btns[1].onclick=function (){
        axios.post('/axios_server',{
            username:'admin',
            password:'admin'
        },{
            params: {
                id:200,
                vip:9
            },
            headers: {
                name:'yang',
                age:22
            }
        })
    };

    btns[2].onclick=function (){
        axios({
            //请求方法
            method:'POST',


            url:'/axios_server',
            params:{
                vip:10,
                level:10
            },
            headers:{
                a:100,
                b:200
            },
            data:{
                username:'admin',
                password:'admin'
            }
        }).then(response=>{
            alert(response.status);
        });
    };
</script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//axios 服务
app.all('/axios_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});



//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

注意事项： 在浏览器中，GET 请求比较特殊，它只有请求头，没有请求体。

![image-20230113105747429](https://cdn.jsdelivr.net/gh/yzk656/image/202301131057499.png)

使用fetch函数发送ajax请求

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>Ajax请求</button>

<script>
  const btn=document.querySelector('button');

  btn.onclick=function (){
    fetch('http://127.0.0.1:3000/fetch_server?vip=10',{
        //请求方法
      method:'POST',
      //请求头
      headers:{
        name:'yangzhenkun'
      },
      //请求体
      body:{
        username:'admin',
        password:'admin'
      }
    }).then(response=>{
        // return response.text();
        return response.json();
    }).then(response=>{
        console.log(response);
    });
  };
</script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//axios 服务
app.all('/axios_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//fetch 服务
app.all('/fetch_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});



//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

![image-20230113121623082](https://cdn.jsdelivr.net/gh/yzk656/image/202301131216146.png)

![image-20230113121727519](https://cdn.jsdelivr.net/gh/yzk656/image/202301131217570.png)

![image-20230113124955045](https://cdn.jsdelivr.net/gh/yzk656/image/202301131249109.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>杨振坤</h1>
<button>点击获取用户数据</button>
<script>
    const btn = document.querySelector('button');
    btn.onclick = function () {
        const xhr = new XMLHttpRequest();
        //这里因为是满足同源策略的，因此url可以简写
        xhr.open('GET', '/data');
        xhr.send();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300) {
                    console.log(xhr.response);
                }
            }
        };
    }
</script>
</body>
</html>
```

```js
//引入express
const express = require('express');

//创建应用对象
const app = express();

//创建路由规则

app.get('/home', (request, response) => {
    //响应一个页面[_ _dirname:代表绝对路径，同时 / 也不能省略]
    response.sendFile(__dirname + '/03-index.html');
});


app.get('/data',(request,response)=>{
   response.send('用户数据');
});

//监听端口启动服务
app.listen(8000, () => {
    console.log('服务已经启动，8000端口正在监听！！！');
});
```

![image-20230113125028626](https://cdn.jsdelivr.net/gh/yzk656/image/202301131250705.png)

![image-20230113132713281](https://cdn.jsdelivr.net/gh/yzk656/image/202301131327335.png)

==ES6 模板字符串(Template String)是增强版的字符串，用反引号(`)标识，它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。==

![image-20230113133133455](https://cdn.jsdelivr.net/gh/yzk656/image/202301131331522.png)

![image-20230113133146691](https://cdn.jsdelivr.net/gh/yzk656/image/202301131331737.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #result{
            width: 300px;
            height: 100px;
            border: 1px solid #ff6700;
        }
    </style>
</head>
<body>

<div id="result"></div>

<script>
    function handle(data){
        //获取result元素
        const result=document.querySelector('#result');
        result.innerHTML=data.name;
    }
</script>
<!--<script src="http://localhost:63342/JavaWeb/Ajax/2023-01-13/app.js"></script>-->
<script src="http://127.0.0.1:3000/jsonp-server"></script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//axios 服务
app.all('/axios_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//fetch 服务
app.all('/fetch_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//jsonp 服务
app.all('/jsonp-server',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        name:'yangzhenkun2',
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});


//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

原生jsonp实践

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
用户名：<input type="text" id="username">
<p></p>

<script>
    const input = document.querySelector('input');
    const p=document.querySelector('p');

    //声明handle函数
    function handle(data) {
        input.style.border='solid 1px #f00'
        //修改p标签提示文本
        p.innerHTML=data.msg;
    };


    input.onblur = function () {
        const username = input.value;

        //向服务端发送请求 检测用户是否存在
        //1. 创建script标签
        const script=document.createElement('script');
        // 2.设置标签的src属性
        script.src='http://127.0.0.1:3000/check-username';
        //3. 将script插入到文档中
        document.body.appendChild(script);
    };
</script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//axios 服务
app.all('/axios_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//fetch 服务
app.all('/fetch_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//jsonp 服务
app.all('/jsonp-server',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        name:'yangzhenkun2',
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});

//用户名检测是否存在
app.all('/check-username',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        exist:1,
        msg:'用户已经存在'
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});


//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

jquery发送jsonp请求

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #result{
            width: 300px;
            height: 100px;
            border:1px solid #ff6700;
        }
    </style>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<body>
<button>点击发送</button>
<div id="result"></div>

<script>
    $('button').eq(0).click(function (){
        $.getJSON('http://127.0.0.1:3000/jquery-jsonp-server?callback=?',function (data){
            $('#result').html(`
                名称：${data.name}<br/>
                校区：${data.city}
            `);
        });
    });
</script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//axios 服务
app.all('/axios_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//fetch 服务
app.all('/fetch_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//jsonp 服务
app.all('/jsonp-server',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        name:'yangzhenkun2',
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});

//用户名检测是否存在
app.all('/check-username',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        exist:1,
        msg:'用户已经存在'
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});


//jquery-jsonp
app.all('/jquery-jsonp-server',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        name:'yangzhenkun',
        city:['北京','上海','深圳']
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);

    //接收callback参数
    let cb=request.query.callback;

    //返回结果[注意如果想在拼接变量字符串，需要把后面的变量放在括号里面]
    response.send(`${cb}(${str})`);
});


//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

![image-20230113180146117](https://cdn.jsdelivr.net/gh/yzk656/image/202301131801232.png)

ajax设置cors响应头实现跨域

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #result {
            width: 300px;
            height: 100px;
            border: 1px solid #ff6700;
        }
    </style>
</head>
<body>
<button>点击发送</button>
<div id="result"></div>

<script>
    const btn = document.querySelector('button');
    const result = document.querySelector('#result');

    btn.onclick = function () {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'http://127.0.0.1:3000/cors-server');
        xhr.send();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300) {
                    result.innerHTML=xhr.response
                }
            }
        };
    }
</script>
</body>
</html>
```

```js
//1. 引入express
const express = require('express');

// 2. 创建应用对象
const app = express();

//3. 创建路由规则
//request是对请求报文的封装
//response是对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello Ajax-2');
});

//针对 IE缓存
app.get('/ie', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');
    //设置响应体
    response.send('hello IE-1');
});

//延时响应
app.get('/delay', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    // //定时器
    setTimeout(function () {
        //设置响应体
        response.send('延时响应');
    }, 3000);
});


//all 可以接收任意类型的请求
// app.post('/server',(request,response)=>{
app.all('/server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    response.send('hello Ajax Post');
});

app.all('/json-server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //响应一个数据
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//Jquery 服务
app.all('/jquery_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//axios 服务
app.all('/axios_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});


//fetch 服务
app.all('/fetch_server', (request, response) => {
    //设置响应头,设置允许跨域
    response.setHeader('Access-Control-Allow-Origin', '*');

    //设置特殊响应头
    response.setHeader('Access-Control-Allow-Headers', '*');

    //设置响应体
    // response.send('Hello Jquery Ajax');
    const data = {
        name: 'yangzhenkun'
    };

    //对对象进行字符串转换
    let str = JSON.stringify(data);

    //设置响应体
    response.send(data);
});

//jsonp 服务
app.all('/jsonp-server',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        name:'yangzhenkun2',
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});

//用户名检测是否存在
app.all('/check-username',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        exist:1,
        msg:'用户已经存在'
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);
    //返回结果
    response.send(`handle(${str})`);
});


//jquery-jsonp
app.all('/jquery-jsonp-server',(request,response)=>{
    // response.send("console.log('hello jsonp-server' )");
    const data={
        name:'yangzhenkun',
        city:['北京','上海','深圳']
    };
    //将数据转换成字符窜
    let str=JSON.stringify(data);

    //接收callback参数
    let cb=request.query.callback;

    //返回结果[注意如果想在拼接变量字符串，需要把后面的变量放在括号里面]
    response.send(`${cb}(${str})`);
});

//cors-server
app.all('/cors-server',(request,response)=>{
    //需要设置响应头
    response.setHeader("Access-Control-Allow-Origin","*");
    // response.setHeader("Access-Control-Allow-Origin","http://127.0.0.1:5500");

    //一般也会把请求头信息添加上 [这样头信息也可以自定义了]
    response.setHeader("Access-Control-Allow-Headers","*");

    response.send('cors-server');
});



//4. 监听端口启动服务
app.listen(3000, () => {
    console.log("服务已经启动，3000端口监听中。。。")
});
```

# BootStrap

## 2023-01-14

![image-20230114105134564](https://cdn.jsdelivr.net/gh/yzk656/image/202301141051677.png)

![image-20230114105641504](https://cdn.jsdelivr.net/gh/yzk656/image/202301141056551.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>


<div class="container" style="background-color: #ff6700;height: 200px">
    1234
</div>

<div class="container-fluid" style="background-color: #ff6700;height: 200px">
    1234
</div>
</body>
</html>
```

![image-20230114105803488](https://cdn.jsdelivr.net/gh/yzk656/image/202301141058556.png)

![image-20230114110120527](https://cdn.jsdelivr.net/gh/yzk656/image/202301141101587.png)

![image-20230114111247635](https://cdn.jsdelivr.net/gh/yzk656/image/202301141112709.png)

![image-20230114111429342](https://cdn.jsdelivr.net/gh/yzk656/image/202301141114394.png)

![image-20230114111844372](https://cdn.jsdelivr.net/gh/yzk656/image/202301141118439.png)

![image-20230114112346281](https://cdn.jsdelivr.net/gh/yzk656/image/202301141123322.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-md-2" style="background-color: #1b6d85;height: 100px;border: 1px solid deeppink"></div>
    <div class="col-md-8 col-md-offset-2" style="background-color: yellow;height: 100px;border: 1px solid red"></div>
  </div>
</div>

</body>
</html>
```

列偏移

==向左会覆盖左边的元素，向右会被右边的元素覆盖==

![image-20230114113516347](https://cdn.jsdelivr.net/gh/yzk656/image/202301141135406.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-md-1" style="background-color: #1b6d85;height: 100px"></div>
    <div class="col-md-1 col-md-push-1" style="background-color: #eb9316;height: 100px"></div>
    <div class="col-md-1 " style="background-color: yellow;height: 100px;"></div>
    <div class="col-md-1 " style="background-color: #1b6d85;height: 100px;"></div>
  </div>
</div>

</body>
</html>
```

往左去覆盖前面的

![image-20230114113705146](https://cdn.jsdelivr.net/gh/yzk656/image/202301141137197.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-md-1" style="background-color: #1b6d85;height: 100px"></div>
    <div class="col-md-1 col-md-push-1" style="background-color: #eb9316;height: 100px"></div>
    <div class="col-md-1 " style="background-color: yellow;height: 100px;"></div>
    <div class="col-md-1 col-md-pull-1" style="background-color: #1b6d85;height: 100px;"></div>
  </div>
</div>

</body>
</html>
```

![image-20230114113832017](https://cdn.jsdelivr.net/gh/yzk656/image/202301141138082.png)

![image-20230114153245598](https://cdn.jsdelivr.net/gh/yzk656/image/202301141532682.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-md-6 " style="background-color: yellow;height: 100px;">
        <div class="row">
            <div class="col-md-6" style="background-color: pink;height: 100px;"></div>
            <div class="col-md-6" style="background-color: yellow;height: 100px;"></div>
        </div>
    </div>
    <div class="col-md-6" style="background-color: #1b6d85;height: 100px;"></div>
  </div>
</div>

</body>
</html>
```

![image-20230114153612298](https://cdn.jsdelivr.net/gh/yzk656/image/202301141536374.png)

![image-20230114154430276](https://cdn.jsdelivr.net/gh/yzk656/image/202301141544322.png)

![image-20230114155051675](https://cdn.jsdelivr.net/gh/yzk656/image/202301141550732.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>
<h1>标题1<small>副标题</small></h1>
<h2>标题1<span class="small">副标题</span></h2>
<h3>标题1</h3>
<div class="h1">你好</div>

<hr>

<p>啊啊大分公司少得可怜附件</p>
<p class="lead">啊啊<small>东方健康</small>大分公<strong>时代峰峻</strong>司少得<i>到付件</i>与<em>爱仕达奥所</em>可怜附件</p>
</body>
</html>
```

![image-20230114155113679](https://cdn.jsdelivr.net/gh/yzk656/image/202301141551751.png)

```html
<div class="text-muted">提示 浅灰色</div>
<div class="text-primary">主要 蓝色</div>
<div class="text-success">成功 浅绿色</div>
<div class="text-info">通知信息 浅蓝色</div>
<div class="text-warning">警告 黄色</div>
<div class="text-danger">危险 褐色</div>
```

![image-20230114160241019](https://cdn.jsdelivr.net/gh/yzk656/image/202301141602091.png)

```html
<!--对齐-->
<p class="text-right">啊啊大分公司少得可怜附件</p>
<p class="text-left">啊啊大分公司少得可怜附件</p>
<p class="text-center">啊啊大分公司少得可怜附件</p>
<p class="text-justify">
    2022年第四届国际青年人工智能大赛是由中国人工智能学会主办、联合国可持续发展目标协作项
    目工作委员会支持举办的国际赛事，设置中国、东盟以及欧盟赛区，共有来自9个国家的125
    所院校、200支队伍、1080名选手参加。比赛分为“人工智能应用与技术创新比赛”“人工智能
    文化艺术创新”“智能机器人工程应用比赛”三大赛道，经评审核定，三大竞赛类型在国内共
    评选出一等奖12项、二等奖19项、三等奖38项。我校计算机与信息工程学院师生共组建15
    支参赛队伍，经过初赛等环节的激烈角逐，最终“冲冲冲”队获比赛一等奖，“槲寄生下”
    “新秀”队获比赛三等奖。
</p>
```

![image-20230114160644885](https://cdn.jsdelivr.net/gh/yzk656/image/202301141606956.png)

![image-20230114161533651](https://cdn.jsdelivr.net/gh/yzk656/image/202301141615713.png)

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
</head>
<body>
<!--自定义列表-->
<dl>
    <dt>列表1</dt>
    <dd>奥斯卡点击</dd>
    <dt>列表2</dt>
    <dd>爱上大李姐</dd>
</dl>

<hr>

<ul class="list-unstyled">
    <li>奥斯卡点击</li>
    <li>爱上大李姐</li>
</ul>

<ul class="list-inline">
    <li>奥斯卡点击</li>
    <li>爱上大李姐</li>
</ul>

<!--自定义标题长度不能超过160px 否则会显示 .. -->
<dl class=dl-horizontal">
    <dt>列表1列表1列表1列表1列表1列表1列表1列表1列表1列表1</dt>
    <dd>奥斯卡点击</dd>
    <dt>列表1列表1列表1列表1列表1列表1列表1列表1列表1列表1</dt>
    <dd>爱上大李姐</dd>
</dl>
</body>
</html>
```

![image-20230114194851733](https://cdn.jsdelivr.net/gh/yzk656/image/202301141948820.png)

![image-20230114200053806](https://cdn.jsdelivr.net/gh/yzk656/image/202301142000869.png)

```
<code>
    this is java
    this is java
</code>
<!--代码会保留原来的格式-->
<pre>
    this is java
    this is java
</pre>
<p>使用<kbd>ctrl</kbd>+<kbd>s</kbd></p>

<!--当长度超过指定值，可以添加滚动条-->
<pre class="pre-scrollable">
    <ol>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ol>
</pre>
</body>
</html>
```

![image-20230114200730427](https://cdn.jsdelivr.net/gh/yzk656/image/202301142007509.png)

![image-20230114201454669](https://cdn.jsdelivr.net/gh/yzk656/image/202301142014742.png)

```html

<table class="table table-bordered table-hover">
    <tr class="info">
        <th>燃烧东方健康</th>
        <th>燃烧东方健康</th>
        <th>燃烧东方健康</th>
    </tr>
    <tr class="success">
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
    </tr>
    <tr class="warning">
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
    </tr>
    <tr class="active">
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
    </tr>
    <tr class=danger">
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
        <td>燃烧东方健康</td>
    </tr>
</table>
```

![image-20230114201743004](https://cdn.jsdelivr.net/gh/yzk656/image/202301142017088.png)

```html
    <div class="container">
        <!--文本框-->
        <div class="row">
            <div class="col-md-3">
                <input type="text" class="form-control">
                <input type="text" class="form-control input-lg">
                <input type="text" class="form-control input-sm">
            </div>
        </div>

        <!--下拉框-->
        <div class="row">
            <div class="col-md-3">
                <select class="form-control">
                    <option value="">请选择城市</option>
                    <option value="">北京</option>
                    <option value="">上海</option>
                </select>
            </div>
        </div>

        <!--文本域-->
        <div class="row">
            <div class="col-md-3">
                <textarea name="" id="" cols="30" rows="10" class="form-control"></textarea>
            </div>
        </div>
    </div>
```

![image-20230114203207727](https://cdn.jsdelivr.net/gh/yzk656/image/202301142032813.png)

 label标签可以将文字和表单控件绑定在一起，当你点击其中的文字时，与之绑定的表单控件将会相应获取焦点（单选框与复选框是选中该选项）；

![image-20230114211802111](https://cdn.jsdelivr.net/gh/yzk656/image/202301142118183.png)

```html
        <!--复选框-->
        <!--垂直显示-->
        <div class="row">
            <div class="col-md-3">
                <div class="checkbox">
                    <label for="">
                        <input type="checkbox" name="hobby">唱歌
                    </label>
                </div>
                <div class="checkbox">
                    <label for="">
                        <input type="checkbox" name="hobby">跳舞
                    </label>
                </div>
            </div>
        </div>
        <!--水平显示-->
        <div class="row">
            <div class="col-md-3">
                <div class="checkbox-inline">
                    <label for="">
                        <input type="checkbox" name="hobby">唱歌
                    </label>
                </div>
                <div class="checkbox-inline">
                    <label for="">
                        <input type="checkbox" name="hobby">跳舞
                    </label>
                </div>
            </div>
        </div>

        <!--单选框-->
        <div class="row">
            <div class="col-md-3">
                <div class="radio">
                    <label>
                        <input type="radio" name="sex">男
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="sex">女
                    </label>
                </div>
            </div>
        </div>
    </div>
```

![image-20230114211843508](https://cdn.jsdelivr.net/gh/yzk656/image/202301142118603.png)

![image-20230114213354644](https://cdn.jsdelivr.net/gh/yzk656/image/202301142133728.png)

```html
        <!--按钮-->
        <button class="btn">按钮</button>
        <button class="btn btn-danger">按钮</button>
        <button class="btn btn-primary">按钮</button>
        <button class="btn btn-info">按钮</button>
        <button class="btn btn-success">按钮</button>
        <button class="btn btn-default">按钮</button>
        <button class="btn btn-warning">按钮</button>
        <button class="btn btn-link">按钮</button>

        <!--也可以把其他标签变成按钮-->
        <a href="https://www.baidu.com" class="btn btn-success">a标签</a>
        <span class="btn btn-danger">span标签</span>
        <div class="btn btn-info">div标签</div>

        <!--按钮大小-->
        <a href="https://www.baidu.com" class="btn btn-success">a标签</a>
        <span class="btn btn-danger btn-lg">span标签</span>
        <div class="btn btn-info btn-sm">div标签</div>
        <div class="btn btn-info btn-xs">div标签</div>

        <!--按钮禁用-->
        <!--可以组织js-->
        <button class="btn btn-success" disabled="disabled" onclick="alert('111')">按钮</button>
        <!--不能组织js的点击  只是样式上禁用了-->
        <button class="btn btn-success disabled" onclick="alert('111')">按钮</button>
```

![image-20230114214038943](https://cdn.jsdelivr.net/gh/yzk656/image/202301142140035.png)

![image-20230114223806730](https://cdn.jsdelivr.net/gh/yzk656/image/202301142238813.png)

![image-20230114224619477](https://cdn.jsdelivr.net/gh/yzk656/image/202301142246569.png)

```html
<form action="#" class="form-horizontal">
    <h2 class="text-center">用户信息表</h2>
    <!--表单中的表单元素组-->
    <div class="form-group">
        <label for="uname" class="control-label col-md-2">姓名</label>
        <div class="col-md-8">
            <input type="text" id="uname" class="form-control" placeholder="请输入姓名">
        </div>
    </div>
    <div class="form-group">
        <label for="password" class="control-label col-md-2">密码</label>
        <div class="col-md-8">
            <input type="text" id="password" class="form-control" placeholder="请输入密码">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-2">爱好</label>
        <div class="col-md-8">
            <!--水平显示-->
            <div class="row">
                <div class="col-md-3">
                    <div class="checkbox-inline">
                        <label for="">
                            <input type="checkbox" name="hobby">唱歌
                        </label>
                    </div>
                    <div class="checkbox-inline">
                        <label for="">
                            <input type="checkbox" name="hobby">跳舞
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-2">城市</label>
        <div class="col-md-8">
            <select class="form-control">
                <option value="">请选择城市</option>
                <option value="">北京</option>
                <option value="">上海</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="remark" class="control-label col-md-2">城市</label>
        <div class="col-md-8">
            <textarea name="" id="remark" cols="30" rows="10" class="form-control"></textarea>
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-8 col-md-offset-9">
            <button class="btn btn-primary btn-lg">提交</button>
        </div>
    </div>
</form>

<hr>

<form action="#" class="form-inline">
    <div class="form-group">
        <label for="username1">姓名</label>
        <input type="text" id="username1" class="control-label" placeholder="请输入姓名">
    </div>
    <div class="form-group">
        <label for="password1">密码</label>
        <input type="text" id="password1" class="control-label" placeholder="请输入密码">
    </div>
    <div class="form-group">
        <button class="btn btn-primary">提交</button>
    </div>
</form>
```

![image-20230114224653957](https://cdn.jsdelivr.net/gh/yzk656/image/202301142246037.png)

![image-20230114225751536](https://cdn.jsdelivr.net/gh/yzk656/image/202301142257604.png)

```html
<div class="container">
    <div class="row">
        <!--缩略图-->
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../img/01.jpg" alt="...">
                <h3>高圆圆</h3>
                <p>出生于北京市，中国内地影视女演员、模特。</p>
                <button class="btn btn-default">
                    <span class="glyphicon glyphicon-heart"></span>喜欢</button>
                <button class="btn btn-info">
                    <span class="glyphicon glyphicon-pencil">评论</span>
                </button>
            </div>
        </div>
        <!--缩略图-->
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../img/01.jpg" alt="...">
                <h3>高圆圆</h3>
                <p>出生于北京市，中国内地影视女演员、模特。</p>
                <button class="btn btn-default">
                    <span class="glyphicon glyphicon-heart"></span>喜欢</button>
                <button class="btn btn-info">
                    <span class="glyphicon glyphicon-pencil">评论</span>
                </button>
            </div>
        </div>
        <!--缩略图-->
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../img/01.jpg" alt="...">
                <h3>高圆圆</h3>
                <p>出生于北京市，中国内地影视女演员、模特。</p>
                <button class="btn btn-default">
                    <span class="glyphicon glyphicon-heart"></span>喜欢</button>
                <button class="btn btn-info">
                    <span class="glyphicon glyphicon-pencil">评论</span>
                </button>
            </div>
        </div>
        <!--缩略图-->
        <div class="col-md-3">
            <div class="thumbnail">
                <img src="../img/01.jpg" alt="...">
                <h3>高圆圆</h3>
                <p>出生于北京市，中国内地影视女演员、模特。</p>
                <button class="btn btn-default">
                    <span class="glyphicon glyphicon-heart"></span>喜欢</button>
                <button class="btn btn-info">
                    <span class="glyphicon glyphicon-pencil">评论</span>
                </button>
            </div>
        </div>
    </div>
</div>
```

![image-20230114225857123](https://cdn.jsdelivr.net/gh/yzk656/image/202301142258196.png)

![image-20230114230321474](https://cdn.jsdelivr.net/gh/yzk656/image/202301142303544.png)

```html
<div class="panel panel-warning">
  <div class="panel-heading">
    <h2 class="text-center">明星合集</h2>
  </div>
  <div class="panel-body">
    <div class="container">
      <div class="row">
        <!--缩略图-->
        <div class="col-md-3">
          <div class="thumbnail">
            <img src="../img/01.jpg" alt="...">
            <h3>高圆圆</h3>
            <p>出生于北京市，中国内地影视女演员、模特。</p>
            <button class="btn btn-default">
              <span class="glyphicon glyphicon-heart"></span>喜欢</button>
            <button class="btn btn-info">
              <span class="glyphicon glyphicon-pencil">评论</span>
            </button>
          </div>
        </div>
        <!--缩略图-->
        <div class="col-md-3">
          <div class="thumbnail">
            <img src="../img/01.jpg" alt="...">
            <h3>高圆圆</h3>
            <p>出生于北京市，中国内地影视女演员、模特。</p>
            <button class="btn btn-default">
              <span class="glyphicon glyphicon-heart"></span>喜欢</button>
            <button class="btn btn-info">
              <span class="glyphicon glyphicon-pencil">评论</span>
            </button>
          </div>
        </div>
        <!--缩略图-->
        <div class="col-md-3">
          <div class="thumbnail">
            <img src="../img/01.jpg" alt="...">
            <h3>高圆圆</h3>
            <p>出生于北京市，中国内地影视女演员、模特。</p>
            <button class="btn btn-default">
              <span class="glyphicon glyphicon-heart"></span>喜欢</button>
            <button class="btn btn-info">
              <span class="glyphicon glyphicon-pencil">评论</span>
            </button>
          </div>
        </div>
        <!--缩略图-->
        <div class="col-md-3">
          <div class="thumbnail">
            <img src="../img/01.jpg" alt="...">
            <h3>高圆圆</h3>
            <p>出生于北京市，中国内地影视女演员、模特。</p>
            <button class="btn btn-default">
              <span class="glyphicon glyphicon-heart"></span>喜欢</button>
            <button class="btn btn-info">
              <span class="glyphicon glyphicon-pencil">评论</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
```

![image-20230114230419190](https://cdn.jsdelivr.net/gh/yzk656/image/202301142304286.png)

![image-20230114230742913](https://cdn.jsdelivr.net/gh/yzk656/image/202301142307999.png)

![image-20230114230754785](https://cdn.jsdelivr.net/gh/yzk656/image/202301142307841.png)

![image-20230114234415812](https://cdn.jsdelivr.net/gh/yzk656/image/202301142344875.png)

![image-20230114234622079](https://cdn.jsdelivr.net/gh/yzk656/image/202301142346140.png)

```html
<!--标签页导航-->
<ul class="nav nav-tabs">
    <li role="presentation" class="active"><a href="#">Home</a></li>
    <li role="presentation"><a href="#">Profile</a></li>
    <li role="presentation"><a href="#">Messages</a></li>
</ul>

<!--胶囊式标签页-->
<ul class="nav nav-pills">
    <li role="presentation" class="active"><a href="#">Home</a></li>
    <li role="presentation"><a href="#">Profile</a></li>
    <li role="presentation"><a href="#">Messages</a></li>
</ul>

<hr>

<!--分页导航-->
<ul class="pagination">
    <li><a href="#">&laquo</a></li>
    <li class="active"><a href="#">1</a></li>
    <li><a href="#">2</a></li>
    <li><a href="#">3</a></li>
    <li><a href="#">4</a></li>
    <li><a href="#">5</a></li>
    <li><a href="#">&raquo</a></li>
</ul>

<!--翻页-->
<ul class="pager">
    <li><a href="#">上一页</a></li>
    <li><a href="#">下一页</a></li>
</ul>
```

![image-20230114234850174](https://cdn.jsdelivr.net/gh/yzk656/image/202301142348291.png)

![image-20230115002252260](https://cdn.jsdelivr.net/gh/yzk656/image/202301150022326.png)

```html
<!--使用一个雷鸣为dropdown或btn-group的div包裹整个下拉框-->
<div class="dropdown">
  <!--使用button作为父菜单，使用类名  drop-down-toggle和自定义data-toggle属性-->
  <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
    喜欢的频道
    <!--设置下拉箭头-->
    <span class="caret"></span>
  </button>
  <!--下拉菜单-->
  <ul class="dropdown-menu">
    <li class="dropdown-header">科普</li>
    <li class="active"><a href="#" target="_blank">人与自然</a></li>

    <!--分割线-->
    <li class="divider"></li>

    <li class="dropdown-header">搞笑</li>
    <li><a href="#" target="_blank">欢乐喜剧人</a></li>
    <li><a href="#" target="_blank">快乐大本营</a></li>
    <li><a href="#" target="_blank">欢乐喜剧人</a></li>
  </ul>
</div>


<script src="../js/jquery-1.12.4.js"></script>
<script src="../bootstrap/js/bootstrap.js"></script>
```

![image-20230115002343551](https://cdn.jsdelivr.net/gh/yzk656/image/202301150023671.png)

![image-20230115002420995](https://cdn.jsdelivr.net/gh/yzk656/image/202301150024063.png)

![image-20230115003605626](https://cdn.jsdelivr.net/gh/yzk656/image/202301150036719.png)

![image-20230115010654208](https://cdn.jsdelivr.net/gh/yzk656/image/202301150106281.png)

```html
<!--通过data-->
<button class="btn btn-primary" data-toggle="modal" data-target="#myModal">打开模态框</button>
<!--通过js-->
<button class="btn btn-primary" id="btn">打开模态框</button>

<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">模态框（Modal）标题</h4>
            </div>
            <div class="modal-body">
                <form action="#" class="form-horizontal" role="form">
                    <div class="form-group">
                        <label for="uname" class="col-md-2 control-label">姓名</label>
                        <div class="col-md-8">
                            <input type="text" id="uname" class="form-control">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="submit">提交更改</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<script src="../js/jquery-1.12.4.js"></script>
<script src="../bootstrap/js/bootstrap.js"></script>
<script>
    /*绑定按钮点击事件*/
    $('#btn').click(function () {
        /*手动打开模态框*/
        $('#myModal').modal('show');
    });

    /*关闭模态框*/
    $('#submit').click(function () {
        $('#myModal').modal('hide');
    });
```

# jQuery

## 2023-01-15

![image-20230115114509826](https://cdn.jsdelivr.net/gh/yzk656/image/202301151145917.png)

![image-20230115114709059](https://cdn.jsdelivr.net/gh/yzk656/image/202301151147106.png)

```js
<script>
  $(document).ready(function (){
    alert('加载完成');
  });
</script>
```

==双击触发==

```js
  $('p').dblclick(function (){
    console.log('1');
  });
```

悬停

当鼠标移动到元素上时，会触发指定的第一个函数(mouseenter);当鼠标移出这个元素时，会触发指定的第二个函数(mouseleave)。

```js
$("#p1").hover(
    function(){
        alert("你进入了 p1!");
    },
    function(){
        alert("拜拜! 现在你离开了 p1!");
    }
);
```

==显示与隐藏==

可以控制时间，以及执行哪些方法

```js
$(selector).hide(speed,callback);

$(selector).show(speed,callback);
```

```js
$(document).ready(function(){
  $(".hidebtn").click(function(){
    $("div").hide(1000,"linear",function(){
      alert("Hide() 方法已完成!");
    });
  });
});
```

第二个参数是一个字符串，表示过渡使用哪种缓动函数。

通过 jQuery，您可以使用 toggle() 方法来切换 hide() 和 show() 方法。

```js
$("button").click(function(){
  $("p").toggle();
});
```

```js
$(selector).toggle(speed,callback);
```

==淡入淡出==

- fadeIn()
- fadeOut()
- fadeToggle()
- fadeTo()

jQuery fadeIn() 用于淡入已隐藏的元素。

```js
$(selector).fadeIn(speed,callback);
```

jQuery fadeTo() 方法允许渐变为给定的不透明度（值介于 0 与 1 之间）。

```js
$("button").click(function(){
  $("#div1").fadeTo("slow",0.15);
  $("#div2").fadeTo("slow",0.4);
  $("#div3").fadeTo("slow",0.7);
});
```

==滑动==

- slideDown()
- slideUp()
- slideToggle()

Query slideDown() 方法用于向下滑动元素。

```js
$("#flip").click(function(){
  $("#panel").slideDown();
});
```

==动画·==

jQuery animate() 方法允许您创建自定义的动画。

```js
$(selector).animate({params},speed,callback);
```

必需的 params 参数定义形成动画的 CSS 属性。

默认情况下，所有的 HTML 元素有一个静态的位置，且是不可移动的。 如果需要改变为，我们需要将元素的 position 属性设置为 relative, fixed, 或 absolute!

```js
$("button").click(function(){
  $("div").animate({
    left:'250px',
    opacity:'0.5',
    height:'150px',
    width:'150px'
  });
});
```

**可以用 animate() 方法来操作所有 CSS 属性吗？**

是的，几乎可以！不过，需要记住一件重要的事情：当使用 animate() 时，必须使用 Camel 标记法书写所有的属性名，比如，必须使用 paddingLeft 而不是 padding-left，使用 marginRight 而不是 margin-right，等等。

同时，色彩动画并不包含在核心 jQuery 库中。

如果需要生成颜色动画，您需要从 [jquery.com](http://jquery.com/download/) 下载 [颜色动画](http://plugins.jquery.com/color/) 插件。



也可以定义相对值（该值相对于元素的当前值）。需要在值的前面加上 += 或 -=：

```js
$("button").click(function(){
  $("div").animate({
    left:'250px',
    height:'+=150px',
    width:'+=150px'
  });
});
```



您甚至可以把属性的动画值设置为 "show"、"hide" 或 "toggle"：

```js
/*高度上从0-正常值*/
$("button").click(function(){
  $("div").animate({
    height:'toggle'
  });
});
```

队列功能【依次执行】

```js
$("button").click(function(){
  var div=$("div");
  div.animate({height:'300px',opacity:'0.4'},"slow");
  div.animate({width:'300px',opacity:'0.8'},"slow");
  div.animate({height:'100px',opacity:'0.4'},"slow");
  div.animate({width:'100px',opacity:'0.8'},"slow");
});
```

==停止动画==

stop() 方法适用于所有 jQuery 效果函数，包括滑动、淡入淡出和自定义动画。

```js
$(selector).stop(stopAll,goToEnd);
```

可选的 stopAll 参数规定是否应该清除动画队列。默认是 false，即仅停止活动的动画，允许任何排入队列的动画向后执行。

可选的 goToEnd 参数规定是否立即完成当前动画。默认是 false。

==callback方法==

Callback 函数在当前动画 100% 完成之后执行。【callbaack就是spead后面那个函数】

```js
$("button").click(function(){
  $("p").hide("slow",function(){
    alert("段落现在被隐藏了");
  });
});
```

==链==

Chaining 允许我们在一条语句中运行多个 jQuery 方法（在相同的元素上）。

```js
$("#p1").css("color","red").slideUp(2000).slideDown(2000);
```

==获取内容和属性==

- **text()** - 设置或返回所选元素的文本内容
- **html()** - 设置或返回所选元素的内容（包括 HTML 标签）
- **val()** - 设置或返回表单字段的值

==设置内容和属性==

```js
$("#btn1").click(function(){
    $("#test1").text("Hello world!");
});
$("#btn2").click(function(){
    $("#test2").html("<b>Hello world!</b>");
});
$("#btn3").click(function(){
    $("#test3").val("RUNOOB");
});
```

text()、html() 以及 val()，同样拥有回调函数。回调函数有两个参数：被选元素列表中当前元素的下标，以及原始（旧的）值。然后以函数新值返回您希望使用的字符串。

![image-20230115131729996](https://cdn.jsdelivr.net/gh/yzk656/image/202301151317086.png)

==添加元素==

- append() - 在被选元素的结尾插入内容
- prepend() - 在被选元素的开头插入内容
- after() - 在被选元素之后插入内容
- before() - 在被选元素之前插入内容

通过 after() 和 before() 方法添加若干新元素

```js
function afterText()
{
    var txt1="<b>I </b>";                    // 使用 HTML 创建元素
    var txt2=$("<i></i>").text("love ");     // 使用 jQuery 创建元素
    var txt3=document.createElement("big");  // 使用 DOM 创建元素
    txt3.innerHTML="jQuery!";
    $("img").after(txt1,txt2,txt3);          // 在图片后添加文本
}
```

==删除元素==

remove() - 删除被选元素（及其子元素）
empty() - 从被选元素中删除子元素【empty只会清空，并不会删除整个元素】

过滤被删除的元素

删除 class="italic" 的所有 <p> 元素：

```js
$("p").remove(".italic");
```

==获取并设置CSS类==

- addClass() - 向被选元素添加一个或多个类
- removeClass() - 从被选元素删除一个或多个类
- toggleClass() - 对被选元素进行添加/删除类的切换操作
- css() - 设置或返回样式属性

向不同的元素添加 class 属性。当然，在添加类时，您也可以选取多个元素：

```js
$("button").click(function(){
  $("h1,h2,p").addClass("blue");
  $("div").addClass("important");
});
```

```js
$("button").click(function(){
  $("body div:first").addClass("important blue");
});
```

```js
$("button").click(function(){
  $("h1,h2,p").toggleClass("blue");
});
```

==CSS方法==

css() 方法设置或返回被选元素的一个或多个样式属性。

```js
css("propertyname");
```

返回首个匹配元素的 background-color 值：

```js
$("p").css("background-color");
```

设置指定的 CSS 属性

```js
css("propertyname","value");
```

```js
$("p").css("background-color","yellow");
```

设置多个 CSS 属性【和声明一个对象一样】

```js
$("p").css({"background-color":"yellow","font-size":"200%"});
```

==尺寸==

- width()
- height()
- innerWidth()
- innerHeight()
- outerWidth()
- outerHeight()

width() 方法设置或返回元素的宽度（不包括内边距、边框或外边距）。

height() 方法设置或返回元素的高度（不包括内边距、边框或外边距）。

innerWidth() 方法返回元素的宽度（包括内边距）。

innerHeight() 方法返回元素的高度（包括内边距）。

outerWidth() 方法返回元素的宽度（包括内边距和边框）。

outerHeight() 方法返回元素的高度（包括内边距和边框）。

==jQuery遍历 祖先==

- parent()
- parents()
- parentsUntil()

parent() 方法返回被选元素的直接父元素。

该方法只会向上一级对 DOM 树进行遍历。

```js
$(document).ready(function(){
  $("span").parent();
});
```

parents() 方法返回被选元素的所有祖先元素，它一路向上直到文档的根元素 (<html>)。

```js
$(document).ready(function(){
  $("span").parents();
});
```

您也可以使用可选参数来过滤对祖先元素的搜索。

```js
$(document).ready(function(){
  $("span").parents("ul");
});
```

parentsUntil() 方法返回介于两个给定元素之间的所有祖先元素。

```js
$(document).ready(function(){
  $("span").parentsUntil("div");
});
```

==后代==

- children()
- find()

children() 方法返回被选元素的所有`直接子元素`。

```js
$(document).ready(function(){
  $("div").children();
});
```

您也可以使用可选参数来过滤对子元素的搜索。

返回类名为 "1" 的所有 <p> 元素，并且它们是 <div> 的直接子元素

```js
$(document).ready(function(){
  $("div").children("p.1");
});
```

find() 方法返回被选元素的后代元素，一路向下直到最后一个后代。

返回属于 <div> 后代的所有 <span> 元素

```js
$(document).ready(function(){
  $("div").find("span");
});
```

返回 <div> 的所有后代：

```js
$(document).ready(function(){
  $("div").find("*");
});
```

==同胞==

- siblings()
- next()
- nextAll()
- nextUntil()
- prev()
- prevAll()
- prevUntil()

siblings() 方法返回被选元素的所有同胞元素。

返回 <h2> 的所有同胞元素：

```js
$(document).ready(function(){
  $("h2").siblings();
});
```

返回属于 <h2> 的同胞元素的所有 <p> 元素：

```js
$(document).ready(function(){
  $("h2").siblings("p");
});
```

next() 方法返回被选元素的==下一个==同胞元素。

```js
$(document).ready(function(){
  $("h2").next();
});
```

nextAll() 方法返回被选元素的所有跟随的同胞元素。

```js
$(document).ready(function(){
  $("h2").nextAll();
});
```

nextUntil() 方法返回介于两个给定参数之间的所有跟随的同胞元素。

```js
$(document).ready(function(){
  $("h2").nextUntil("h6");
});
```

prev(), prevAll() 以及 prevUntil() 方法的工作方式与上面的方法类似，只不过方向相反而已：它们返回的是前面的同胞元素（在 DOM 树中沿着同胞之前元素遍历，而不是之后元素遍历）。

==过滤==

三个最基本的过滤方法是：first(), last() 和 eq()，它们允许您基于其在一组元素中的位置来选择一个特定的元素。

**first() 方法返回被选元素的首个元素。**

```js
$(document).ready(function(){
  $("div p").first();
});
```

last() 方法返回被选元素的最后一个元素。

```js
$(document).ready(function(){
  $("div p").last();
});
```

eq() 方法返回被选元素中带有指定索引号的元素。q() 方法返回被选元素中带有指定索引号的元素。

```js
$(document).ready(function(){
  $("p").eq(1);
});
```

filter() 方法允许您规定一个标准。不匹配这个标准的元素会被从集合中删除，匹配的元素会被返回。

返回带有类名 "url" 的所有 <p> 元素：

```js
$(document).ready(function(){
  $("p").filter(".url");
});
```

not() 方法返回不匹配标准的所有元素。

not() 方法与 filter() 相反。

返回不带有类名 "url" 的所有 <p> 元素：

```js
$(document).ready(function(){
  $("p").not(".url");
});
```

==load方法==

load() 方法从服务器加载数据，并把返回的数据放入被选元素中

```js
$(selector).load(URL,data,callback);
```

必需的 *URL* 参数规定您希望加载的 URL。

可选的 *data* 参数规定与请求一同发送的查询字符串键/值对集合。

可选的 *callback* 参数是 load() 方法完成后所执行的函数名称。



jQuery 选择器添加到 URL 参数。

把 "demo_test.txt" 文件中 id="p1" 的元素的内容，加载到指定的 <div> 元素中：

```js
$("#div1").load("demo_test.txt #p1");
```

可选的 callback 参数规定当 load() 方法完成后所要允许的回调函数。回调函数可以设置不同的参数：

- *responseTxt* - 包含调用成功时的结果内容
- *statusTXT* - 包含调用的状态
- *xhr* - 包含 XMLHttpRequest 对象

```js
$("button").click(function(){
  $("#div1").load("demo_test.txt",function(responseTxt,statusTxt,xhr){
    if(statusTxt=="success")
      alert("外部内容加载成功!");
    if(statusTxt=="error")
      alert("Error: "+xhr.status+": "+xhr.statusText);
  });
});
```

==get()和post()方法==

- *GET* - 从指定的资源请求数据
- *POST* - 向指定的资源提交要处理的数据

GET 基本上用于从服务器获得（取回）数据。注释：GET 方法可能返回缓存数据。

POST 也可用于从服务器获取数据。不过，POST 方法不会缓存数据，并且常用于连同请求一起发送数据。

$.get() 方法通过 HTTP GET 请求从服务器上请求数据。

```js
$.get(URL,callback);
或
$.get( URL [, data ] [, callback ] [, dataType ] )
```

- **URL**：发送请求的 URL字符串。
- **data**：可选的，发送给服务器的字符串或 key/value 键值对。
- **callback**：可选的，请求成功后执行的回调函数。
- **dataType**：可选的，从服务器返回的数据类型。默认：智能猜测（可以是xml, json, script, 或 html）。

```js
$("button").click(function(){
  $.get("demo_test.php",function(data,status){
    alert("数据: " + data + "\n状态: " + status);
  });
});
```

第二个参数是回调函数。第一个回调参数存有被请求页面的内容，第二个回调参数存有请求的状态。



$.post() 方法通过 HTTP POST 请求向服务器提交数据。

```js
$.post(URL,callback);
或
$.post( URL [, data ] [, callback ] [, dataType ] )
```

```js
$("button").click(function(){
    $.post("/try/ajax/demo_test_post.php",
    {
        name:"菜鸟教程",
        url:"http://www.runoob.com"
    },
    function(data,status){
        alert("数据: \n" + data + "\n状态: " + status);
    });
});
```

第三个参数是回调函数。第一个回调参数存有被请求页面的内容，而第二个参数存有请求的状态。

==解决$符号问题==

noConflict() 方法会释放对 $ 标识符的控制，这样其他脚本就可以使用它了【使用后 $就会失效】



可以通过全名替代简写的方式来使用 jQuery【从而避免$符号带来的冲突】：

```js
$.noConflict();
jQuery(document).ready(function(){
  jQuery("button").click(function(){
    jQuery("p").text("jQuery 仍然在工作!");
  });
});
```

您也可以创建自己的简写。==noConflict() 可返回对 jQuery 的引用==，您可以把它存入变量，以供稍后使用。请看这个例子：

```js
var jq = $.noConflict();
jq(document).ready(function(){
  jq("button").click(function(){
    jq("p").text("jQuery 仍然在工作!");
  });
});
```

如果你的 jQuery 代码块使用 $ 简写，并且您不愿意改变这个快捷方式，那么您可以把 $ 符号作为变量传递给 ready 方法。这样就可以在函数内使用 $ 符号了 - 而在函数外，依旧不得不使用 "jQuery"：

```js
$.noConflict();
jQuery(document).ready(function($){
  $("button").click(function(){
    $("p").text("jQuery 仍然在工作!");
  });
});
```

# ES11

## 2023-01-16

### let

```html
    /**
     * 1. 变量不能重复声明
     * */
    // let a=1;
    // let a=2;

    //块级作用域【用var则没有影响】
    //  if else while for
    // {
    //     let gril='1';
    // }
    // console.log(gril);

//    3.不存在变量提升
//     var a;
//     console.log(a);
//     a = 1;

//     4. 不影响作用域链
    {
        let school='sc';
        function fn(){
            console.log(school);
        }
        fn();
    }
```



# Nodejs

## 2023-1-17

![image-20230117210453831](https://cdn.jsdelivr.net/gh/yzk656/image/202301172104030.png)



## 2023-01-18

![image-20230118115627404](https://cdn.jsdelivr.net/gh/yzk656/image/202301181156477.png)

使用绝对路径也可以运行

![image-20230118115724084](https://cdn.jsdelivr.net/gh/yzk656/image/202301181157130.png)

对于windows

​	mkdir：创建文件夹

​	dir：查看当前文件下的文件

​	node：可以进入node环境

​	连续两次ctrl +c 可以退出node环境

![image-20230118121038359](https://cdn.jsdelivr.net/gh/yzk656/image/202301181210436.png)

![image-20230118222042356](https://cdn.jsdelivr.net/gh/yzk656/image/202301182220411.png)

## 2023-01-19

```js
/*nodejs 可以用于创建web服务器*/

/*引入http模块*/
/*require 可以认为是<script srx="xxx"></script>*/
var http=require('http');
// console.log(http);

var server=http.createServer(function (request,response){
    // console.log(request.url);
    // console.log(request.method);
    console.log(request.connection.remoteAddress);

    /*解决乱码*/
    response.setHeader('content-type','text/html;charset=utf-8');

    /*响应一段文本 并且结束响应*/
    response.end(`<h1>网站建设中。。。</h1><h3>${new Date().toLocaleDateString()}</h3>`);
});

server.listen(3000,function (){
    console.log('正在监听3000端口！！！');
});
```

![image-20230119112427837](https://cdn.jsdelivr.net/gh/yzk656/image/202301191124007.png)

![image-20230119112940477](https://cdn.jsdelivr.net/gh/yzk656/image/202301191129616.png)

![image-20230119113104600](https://cdn.jsdelivr.net/gh/yzk656/image/202301191131738.png)

![image-20230119113747534](https://cdn.jsdelivr.net/gh/yzk656/image/202301191137682.png)

![image-20230119113823111](https://cdn.jsdelivr.net/gh/yzk656/image/202301191138214.png)

![image-20230119114006690](https://cdn.jsdelivr.net/gh/yzk656/image/202301191140821.png)

![image-20230119114411517](https://cdn.jsdelivr.net/gh/yzk656/image/202301191144639.png)

```js
/*系统自定义模块引入只需要模块名*/

/*fs 文件系统 :文件增删改查*/
var fs=require('fs');
var html = fs.readFileSync('../2023-01-18/02-http.js');
/*Buffer 类似于数组 所有的数值都是16进制*/
console.log(html);
/*<Buffer 2f 2a 6e 6f 64 65 6a 73 20 e5 8f af e4 bb a5 e7 94 a8 e4 ba 8e e5 88 9b e5 bb ba 77 65 62
e6 9c 8d e5 8a a1 e5 99 a8 2a 2f 0d 0a 0d 0a 2f 2a e5 bc 95 ... 642 more bytes>
*/
console.log(html.toString());
```



![image-20230119120140077](https://cdn.jsdelivr.net/gh/yzk656/image/202301191201206.png)

![image-20230119120755822](https://cdn.jsdelivr.net/gh/yzk656/image/202301191207938.png)

node中方法有两类：同步方法：xxxSync；异步方法

![image-20230119231546361](https://cdn.jsdelivr.net/gh/yzk656/image/202301192315518.png)

路径：C:\Users\27939\AppData\Roaming\nvm

命令·：

```js
显示电脑上安装了哪些版本的node
nvm list
安装
nvm install 版本号
使用
nvm use 版本号
删除
nvm uninstall 版本号
```

![image-20230120100813947](https://cdn.jsdelivr.net/gh/yzk656/image/202301201008063.png)

![image-20230120113421825](https://cdn.jsdelivr.net/gh/yzk656/image/202301201134915.png)

导出

```js
let a=10;
function get_sum(a,b){
    return a+b;
}

/*导出方式1*/
// exports.a=a;
// exports.get_sum=get_sum;

/*导出方式2*/
/*通过module.exports等于一个对象，来导出数据*/
module.exports={
    a,get_sum
}
```

导入

```js
/*导入数据*/
/*导出的模块一般需要使用一个变量来接收，一般把接收的变量定义为常量*/
const m1=require('./02-m1.js');
console.log(m1);
console.log(m1.a);
console.log(m1.get_sum(1,2));
```

![image-20230120124522543](https://cdn.jsdelivr.net/gh/yzk656/image/202301201245598.png)

```js
/*模块里面this的指向问题*/
/*在node中this代表当前模块，也就是exports对象*/
console.log(this===exports);//true

/*node里面没有window对象，但是有全局对象global*/
/*nodejs里面声明这个变量 不会被添加到global全局对象中*/
let a=10;
console.log(global.a);
/*可以给global添加成员*/
global.c=30;
console.log(global);
```

![image-20230120124546603](https://cdn.jsdelivr.net/gh/yzk656/image/202301201245653.png)

![image-20230120125149822](https://cdn.jsdelivr.net/gh/yzk656/image/202301201251876.png)

## 2023-01-20

内置模块：==path==

```js
/*引入path内置模块*/
const path=require('path');

/*两个特殊变量*/
console.log(__dirname);//当前执行文件的绝对路径。但不包含本身这个文件名
console.log(__filename);//当前执行文件的绝对路径。包含本身这个文件名

let extname=path.extname(__filename);/*获取后缀名*/
console.log(extname);

let basename=path.basename(__filename);/*获取指定文件名*/
console.log(basename);

let dirname=path.dirname(__filename);/*获取指定文件名当前所在的绝对路径*/
console.log(dirname);

/*综合*/
let parse=path.parse(__filename);/*获取路径解析成一个字符串对象*/
console.log(parse);

/*拼接操作*/
/*多一层目录，多一个参数*/
let full_paath=path.join(__dirname,'module','path.js');
console.log(full_paath);
```

内置模块：==fs==

```js
/*引入fs模块*/
const fs=require('fs');
/*引入path模块*/
const path=require('path');
let file_path=path.join(__dirname,'hello.txt');
console.log(file_path);

/*使用fs的方法【sync 同步】*/
let content=fs.readFileSync(file_path);
console.log(content.toString());
/*使用utf-8转化Buffer*/
let content1=fs.readFileSync(file_path,'utf-8');
console.log(content1);
console.log('你好');
```

异步操作

```js
/*引入fs模块*/
const fs=require('fs');
/*引入path模块*/
const path=require('path');
let file_path=path.join(__dirname,'hello.txt');

/*异步读取*/
/*需要三个参数，第三个参数回调函数*/
fs.readFile(file_path,'utf-8',(error,date)=>{
    if(error){
        console.log(error);
        return;
    }
    console.log(date);
});
console.log('你好');
```

异步写入

```js
/*引入fs模块*/
const fs=require('fs');
/*引入path模块*/
const path=require('path');
let file_path=path.join(__dirname,'hello.txt');

/*异步写入*/
var str='hello node';
fs.writeFile(file_path,str,'utf-8',(error)=>{
    if(error){
        console.log(error);
        return;
    }else{
        console.log('写入成功！！！');
    }
});
/*写入不是进行叠加 而是进行覆盖*/

/*保存数据是在数据库中*/
/*常用方法*/
/*修改文件名*/
// fs.renameSync('旧文件名','旧文件名');
fs.renameSync('hello.txt','hello1.txt');

/*fs.readdirSync获取当前路径下的所有文件名*/
let path1=fs.readdirSync(__dirname);
console.log(path1);

let str1='hello';
console.log(str1.endsWith('lo'));
console.log(str1.startsWith('he'));
console.log(str1.substring(2));
console.log(str1.substring(0,1));
```

案例

```js
/*把当前文件夹下的js文件的名字都添加前缀node-*/
const fs=require('fs');
let file=fs.readdirSync(__dirname);

/*第一种*/
/*for(var i=0;i<file.length;i++){
    if(file[i].endsWith('js')){
        fs.renameSync(file[i],'node'+file[i]);
    }
    if(i==file.length-1){
        console.log('修改成功');
    }
}*/

/*第二种*/
/*file.forEach(items=>{
    if(items.endsWith('js')){
        fs.renameSync(items,`node-${items}`);
    }
});*/


/*把当前文件夹下的js文件的名字都删除前缀node-*/
file.forEach(items=>{
    if(items.endsWith('js')&&items.startsWith('node')){
        fs.renameSync(items,items.substring(4));
    }
});
```

![image-20230120215743189](https://cdn.jsdelivr.net/gh/yzk656/image/202301202157313.png)

![image-20230120223948550](https://cdn.jsdelivr.net/gh/yzk656/image/202301202239650.png)

内置模块：==http模块==

```js
/*搭建第一个后端程序*/
/*  1. 导入http模块
    2. 定义服务程序的端口号
    3. 创建服务器对象
    4. 调用服务器的监听方法，让服务器监听浏览器请求
* */
const http=require('http');
const port=8080;
const server=http.createServer((request,response)=>{
    /*这里的代码每收到一次请求就会执行一次*/
    /*write只能写在end前面*/
    response.write('nihao');
    response.end('hello nodejs');

});
server.listen(port,(error)=>{
    /*用来监听有没有出错*/
    if(error){
        console.log(error);
    }else{
        console.log('服务器已经运行成功了！！！');
    }
});

/*一个端口号只能被一个服务器使用，如果端口号被占用，就换一个
    end永远放在响应的最后面，多次调用没有效果
* */

```

## 2023-01-23

获取get请求参数

```js
/*搭建第一个后端程序*/
/*  1. 导入http模块
    2. 定义服务程序的端口号
    3. 创建服务器对象
    4. 调用服务器的监听方法，让服务器监听浏览器请求
* */
const http=require('http');
const port=8080;
/*引入新的模块*/
const URL=require('url');
const server=http.createServer((request,response)=>{
    /*这里的代码每收到一次请求就会执行一次*/

    /*获取请求路径*/
    let url=request.url;
    console.log(url);

    /*获取请求方式*/
    let method=request.method;
    console.log(method);

    response.end('hello nodejs');

    /*获取get请求参数,放在了query对象里面了*/
    let parse=URL.parse(url,true);/*true解析成对象 false解析成一个字符串*/
    console.log(parse.query.age);

});
server.listen(port,(error)=>{
    /*用来监听有没有出错*/
    if(error){
        console.log(error);
    }else{
        console.log('服务器已经运行成功了！！！');
    }
});

/*一个端口号只能被一个服务器使用，如果端口号被占用，就换一个
    end永远放在响应的最后面，多次调用没有效果
* */
```

![image-20230122192749776](https://cdn.jsdelivr.net/gh/yzk656/image/202301221927928.png)

获取post请求参数

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--提交到服务器上面的-->
<form action="http://localhost:8080" method="post">
    账号：<input type="text" name="username"><br>
    密码：<input type="password" name="password"><br>
    <input type="submit" value="提交">
</form>

<script>

</script>
</body>
</html>
```

```js
const http = require('http');
const port = 8080;
const server = http.createServer((request, response) => {
    /*获取账号和密码，获取post请求参数*/
    /*以事件名的方式来接收，事件名就是data,触发post请求，就会触发这个代码*/
    request.on('data', (postData) => {
        /*postdata就是接收到的参数*/
        console.log(postData.toString());
    });
    response.end('hello ');
});
server.listen(port, (error) => {
    console.log('8080端口正在监听！！！');
});
```

![image-20230122213250857](https://cdn.jsdelivr.net/gh/yzk656/image/202301222132908.png)

书写一个web服务器

js

```js
const http = require('http');
const port = 8080;
const fs=require('fs');
const path=require('path');
const server = http.createServer((request, response) => {
    /*判断浏览器的请求，需要什么文件*/
    let req_url=request.url;
    if(req_url=='/'||req_url=='/index.html'){
        let file_path=path.join(__dirname,'assets','html','index.html');
        let content=fs.readFileSync(file_path)
        response.end(content);
    } else if(req_url=='/cate.html'){
        let file_path=path.join(__dirname,'assets','html','cate.html');
        let content=fs.readFileSync(file_path)
        response.end(content);
    }else if(req_url.endsWith('.css')){
        /*由于添加css，浏览器会自发产生请求，因此需要我们队请求作出响应*/
        let file_path=path.join(__dirname,'assets','css','index.css');
        let content=fs.readFileSync(file_path)
        response.end(content);
    }else{
        response.end('404,报错了！！！');
    }
});
server.listen(port, (error) => {
    console.log('8080端口正在监听！！！');
});

```

html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/index.css">
</head>
<body>
<h2>首页</h2>
<p>欢迎来到我的世界</p>
</body>
</html>
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2>商品分类</h2>
<ul>
    <li>鞋子|衣服</li>
    <li>鞋子|衣服</li>
    <li>鞋子|衣服</li>
    <li>鞋子|衣服</li>
    <li>鞋子|衣服</li>
    <li>鞋子|衣服</li>
</ul>
</body>
</html>
```

css

```css
p{
    color: red;
    font-size: 40px;
}
```

==npm使用==

```
/*第三方模块，进行安装*/
/*npm init：项目初始化*/
/*package.json记录项目相关信息*/
/*-g 全局安装*/

{
  "name": "npm",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "md5": "^2.3.0"
  }
}
```

![image-20230123125927114](https://cdn.jsdelivr.net/gh/yzk656/image/202301231259182.png)

```js
/*引入*/
const md5=require('md5');
console.log(md5('12345'));/*加密数据*/
```

==yarn使用==

```
安装
npm i -g yarn
初始化
yarn init
添加包
yarn add md5
```

![image-20230123154117331](https://cdn.jsdelivr.net/gh/yzk656/image/202301231541463.png)

![image-20230123165240711](https://cdn.jsdelivr.net/gh/yzk656/image/202301231652871.png)

await:【不用再等log函数执行完再执行异步这种情况】

```js
// function get_sum(a, b) {
//     return a + b;
// }
//
// let a1 = get_sum(1, 2);
// let a2 = get_sum(1, 3);
// let a3 = get_sum(1, 8);
// console.log(a1 + a2 + a3);

/*引入模块*/
const fs = require('fs');
const path = require('path');

/*获取文件路径*/
let file_one = path.join(__dirname, '1.txt');
let file_two = path.join(__dirname, '2.txt');
let file_three = path.join(__dirname, '3.txt');
let file_data = path.join(__dirname, 'data.txt');

/*封装一个函数*/
function read_file_promise(filename) {
    return new Promise((resolve, reject) => {
        /*异步操作*/
        fs.readFile(filename, 'utf-8', (error, data) => {
            if (error) {
                reject(error);
            }
            resolve(data);/*data就是读取到的内容*/
        });
    });
}

/*await必须放在async function（异步函数）函数内部*/

/*async比普通函数多一个功能，就是能够使用await
    外观是同步执行的，实质上还是异步
    异步操作 顺序执行
    async await一般后面就是接promise对象
* */
async function func1() {
    let p1 = await read_file_promise(file_one);//直接拿到promise对象成功的数据,不需要使用then了【不用再等log函数执行完再执行异步这种情况】
    let p2 = await read_file_promise(file_two);
    let p3 = await read_file_promise(file_three);
    fs.writeFile(file_data, p1 + p2  + p3, 'utf-8', (error) => {
        if (error) {
            console.log('写入出错了！！！');
        } else {
            console.log('写入成功了！！！');
        }
    });
}

func1();

// /*定义全局变量，接收文件内容*/
// let str='';
// p1.then((value)=>{
//     str+=value;
//     return p2;
// }).then((value)=>{
//     str+=value;
//     return p3;
// }).then((value)=>{
//    str+=value;
//     console.log(str);
// });
```

![image-20230123171029635](https://cdn.jsdelivr.net/gh/yzk656/image/202301231710799.png)

将异步操作同步化证明

```js
async function func(){
    /*如果await后面接的是基本数据类型，会对这个基本数据类型进行包装，包装成一个promise对象*/
    let data1=await 123;
    return data1;
}
let a1=func();
/*由于async await 是异步函数，因此会等log执行完后才会执行func函数*/
console.log(a1);//Promise { <pending> }
a1.then((value)=>{
    console.log(value);
});
```

![image-20230123204550123](https://cdn.jsdelivr.net/gh/yzk656/image/202301232045264.png)

```js
// async function func(){
//     /*如果await后面接的是基本数据类型，会对这个基本数据类型进行包装，包装成一个promise对象*/
//     let data1=await 123;
//     return data1;
// }
// let a1=func();
// /*由于async await 是异步函数，因此会等log执行完后才会执行func函数*/
// console.log(a1);//Promise { <pending> }
// a1.then((value)=>{
//     console.log(value);
// });


/*外部错误处理*/
/*
async function func(){
    /!*如果await后面接的是基本数据类型，会对这个基本数据类型进行包装，包装成一个promise对象*!/
    let data1=await new Promise((resolve,reject)=>{
        reject('出错了！！');
    });
    return data1;
}
let a1=func();
/!*由于async await 是异步函数，因此会等log执行完后才会执行func函数*!/
console.log(a1);//Promise { <pending> }
/!*错误处理（外部）*!/
a1.catch((reason)=>{
    console.log(reason);
})
// a1.then((value)=>{
//     console.log(value);
// });
*/

/*内部错误处理 使用try-catch*/
async function func(){
    try{
        //如果await后面接的是基本数据类型，会对这个基本数据类型进行包装，包装成一个promise对象
        let data1=await new Promise((resolve,reject)=>{
            reject('出错了！！');
        });
        return data1;
    }catch (error){
        console.log(error);
    }
}
let a1=func();
//由于async await 是异步函数，因此会等log执行完后才会执行func函数
console.log(a1);//Promise { <pending> }
// a1.then((value)=>{
//     console.log(value);
// });
```



```js
// function get_sum(a, b) {
//     return a + b;
// }
//
// let a1 = get_sum(1, 2);
// let a2 = get_sum(1, 3);
// let a3 = get_sum(1, 8);
// console.log(a1 + a2 + a3);

/*引入模块*/
const fs = require('fs');
const path = require('path');

/*获取文件路径*/
let file_one = path.join(__dirname, '1.txt');
let file_two = path.join(__dirname, '2.txt');
let file_three = path.join(__dirname, '3.txt');
let file_data = path.join(__dirname, 'data.txt');

/*封装一个函数*/
function read_file_promise(filename) {
    return new Promise((resolve, reject) => {
        /*异步操作*/
        fs.readFile(filename, 'utf-8', (error, data) => {
            if (error) {
                reject(error);
            }
            resolve(data);/*data就是读取到的内容*/
        });
    });
}

/*await必须放在async function（异步函数）函数内部*/

/*async比普通函数多一个功能，就是能够使用await
    外观是同步执行的，实质上还是异步
    异步操作 顺序执行
    async await一般后面就是接promise对象
* */
async function func1() {
    console.log(3);
    let p1 = await read_file_promise(file_one);//直接拿到promise对象成功的数据,不需要使用then了【不用再等log函数执行完再执行异步这种情况】
    console.log(4);
    let p2 = await read_file_promise(file_two);
    let p3 = await read_file_promise(file_three);
    fs.writeFile(file_data, p1 + p2 + p3, 'utf-8', (error) => {
        if (error) {
            console.log('写入出错了！！！');
        } else {
            console.log('写入成功了！！！');
        }
    });
}

console.log(1);
func1();
console.log(2);
/*答案：1324
    因为await才是异步操作，async是一个普通函数
* */

// /*定义全局变量，接收文件内容*/
// let str='';
// p1.then((value)=>{
//     str+=value;
//     return p2;
// }).then((value)=>{
//     str+=value;
//     return p3;
// }).then((value)=>{
//    str+=value;
//     console.log(str);
// });
```

## 2023-01-24

 ![image-20230124145414226](https://cdn.jsdelivr.net/gh/yzk656/image/202301241454382.png)

01-使用express搭建服务器

```js
/*安装express*/

/*1，引入express*/
const express=require('express');
/*2. 创建app对象（项目对象）*/
const app=express();
/*4. 处理请求*/
/*第一个参数是请求路径，第二个参数是针对于这个路径的处理函数*/
app.get('/',(requestm,response)=>{
    /*函数里面有两个形参*/
    /*request：请求对象
      response：响应对象
    * */
    response.send('hello express框架');

});
/*3. 监听是否有请求*/
app.listen(3000,()=>{
    console.log('3000端口正在监听！！！');
});
```

get请求方式

```js
const express = require('express');
const app = express();
const fs = require('fs');
const path = require('path');
app.get('/index.html', (request, response) => {
    /*获取文件路径*/
    let file_path = path.join(__dirname, 'views', 'index.html');
    /*获取文件信息*/
    let content = fs.readFileSync(file_path);
    response.send(content);
    /*获取请求参数*/
    let query=request.query;
    console.log(query);
    console.log(query.age,query.name1);
});
app.get('/', (request, response) => {
    response.send('hello express框架1');
});

app.listen(8082, (error) => {
    if (error) {
        console.log('出错了！！！');
    } else {
        console.log('8082端口正在监听！！！');
    }
});
```

![image-20230126125259974](https://cdn.jsdelivr.net/gh/yzk656/image/202301261253072.png)

![image-20230126125352720](https://cdn.jsdelivr.net/gh/yzk656/image/202301261253795.png)

![image-20230126172631491](https://cdn.jsdelivr.net/gh/yzk656/image/202301261726743.png)

![image-20230126173945882](https://cdn.jsdelivr.net/gh/yzk656/image/202301261739124.png)

![image-20230126174702012](https://cdn.jsdelivr.net/gh/yzk656/image/202301261747245.png)

![image-20230126174916253](https://cdn.jsdelivr.net/gh/yzk656/image/202301261749515.png)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2>注册页面</h2>
<form action="/register.html" method="post">
    用户名：<input type="text" name="username" placeholder="请输入用户名"><br>
    邮箱：<input type="text" name="email" placeholder="请输入邮箱"><br>
    密码：<input type="password" name="password" placeholder="请输入密码"><br>
    <input type="submit" value="提交">
</form>
</body>
</html>
```



```js
/*静态资源处理*/
app.use(express.static('./views'));

app.post('/register.html',(req,res)=>{
    res.send('post请求成功');
});

```

![image-20230126192948266](https://cdn.jsdelivr.net/gh/yzk656/image/202301261929511.png)

```js
/*静态资源处理*/
app.use('/abc',express.static('./views'));


http://127.0.0.1:8080/abc/register.html
```

![image-20230127095115655](https://cdn.jsdelivr.net/gh/yzk656/image/202301270951817.png)

![image-20230127095314510](https://cdn.jsdelivr.net/gh/yzk656/image/202301270953662.png)

![image-20230127095418126](https://cdn.jsdelivr.net/gh/yzk656/image/202301270954271.png)

![image-20230127095912095](https://cdn.jsdelivr.net/gh/yzk656/image/202301270959236.png)

![image-20230127095936023](https://cdn.jsdelivr.net/gh/yzk656/image/202301270959171.png)

![image-20230127102218946](https://cdn.jsdelivr.net/gh/yzk656/image/202301271022091.png)

![image-20230127102311707](https://cdn.jsdelivr.net/gh/yzk656/image/202301271023849.png)

![image-20230127103005685](https://cdn.jsdelivr.net/gh/yzk656/image/202301271030809.png)

![image-20230127103557126](https://cdn.jsdelivr.net/gh/yzk656/image/202301271035304.png)

![image-20230127103934939](https://cdn.jsdelivr.net/gh/yzk656/image/202301271039082.png)

==注意：最终指向了一个对象，因此不管最后一个对象是否包含前面的属性，前面的属性也都不起作用了==

![image-20230127104316328](https://cdn.jsdelivr.net/gh/yzk656/image/202301271043481.png)

```js
const name='yzk';

module.exports.age=20;
module.exports.gender='男';

module.exports={
    age:21
}
```

```js
const m=require('./03-exports对象');

console.log(m);//{ age: 21 }
```

![image-20230127114606699](https://cdn.jsdelivr.net/gh/yzk656/image/202301271146842.png)

![image-20230127114657925](https://cdn.jsdelivr.net/gh/yzk656/image/202301271146067.png)

![image-20230127114841248](https://cdn.jsdelivr.net/gh/yzk656/image/202301271148394.png)

![image-20230127114937388](https://cdn.jsdelivr.net/gh/yzk656/image/202301271149539.png)

![image-20230127115011505](https://cdn.jsdelivr.net/gh/yzk656/image/202301271150647.png)

![image-20230127115122974](https://cdn.jsdelivr.net/gh/yzk656/image/202301271151125.png)

![image-20230127115311486](https://cdn.jsdelivr.net/gh/yzk656/image/202301271153630.png)

==注意：最初两个都是指向的是空对象==

![image-20230127115628275](https://cdn.jsdelivr.net/gh/yzk656/image/202301271156413.png)

路由模块

```js
/*这是路由模块*/
const express=require('express');
/*创建路由对象*/
const router=express.Router();

/*挂在具体的路由*/
router.get('/user/list',function(req,res){
    res.send('Get user list.');
})

router.post('/user/add',function (req,res){
   res.send('add new user');
});


/*向外导出路由对象*/
module.exports=router;
```

使用模块

```js
const express=require('express');
const app=express();

/**
 * 1. 导入路由
 * 2， 注册路由模块
 * */
const router=require('./02-router');
/*注意： app.use() 函数的作用，就是来注册全局中间件*/
app.use(router);

app.listen(8080,()=>{
    console.log('8080端口正在监听！！！');
});
```

![image-20230127120648129](https://cdn.jsdelivr.net/gh/yzk656/image/202301271206288.png)

![image-20230127121049678](https://cdn.jsdelivr.net/gh/yzk656/image/202301271210819.png)

![image-20230127121230447](https://cdn.jsdelivr.net/gh/yzk656/image/202301271212598.png)

![image-20230127121340592](https://cdn.jsdelivr.net/gh/yzk656/image/202301271213773.png)

![image-20230127121601083](https://cdn.jsdelivr.net/gh/yzk656/image/202301271216229.png)

![image-20230127121655953](https://cdn.jsdelivr.net/gh/yzk656/image/202301271216114.png)

```js
const express = require('express');
const app=express();

/*定义中间件函数*/
const mw=function (req,res,next){
    console.log('这是一个中间件函数！！！');
    /*把流转关系，转交给下一个中间件或者路由*/
    next();
}

app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

![image-20230127122228412](https://cdn.jsdelivr.net/gh/yzk656/image/202301271222572.png)

![](https://cdn.jsdelivr.net/gh/yzk656/image/202301271232624.png)

![](https://cdn.jsdelivr.net/gh/yzk656/image/202301271237965.png)

```JS
const express = require('express');
const app=express();

/*定义中间件函数*/
const mw=function (req,res,next){
    console.log('这是一个中间件函数！！！');
    /*把流转关系，转交给下一个中间件或者路由*/
    next();
}

/*将 mw 注册为全局生效的中间件*/
app.use(mw);

/*这是全局中间件的简化形式*/
app.use((req,res,next)=>{
    /*获取到请求到达服务器的时间*/
    const time=Date.now();
    /*为 req 对象，挂载自定义属性，从而把时间共享给后面的所以路由*/
    req.startTime=time;
    console.log('中间件函数！！！');
    next();
});
app.get('/',(req,res)=>{
   res.send('this is home page'+req.startTime);
});

app.get('/user',(req,res)=>{
    res.send('this is user page'+req.startTime);
});

app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

![image-20230127135638615](https://cdn.jsdelivr.net/gh/yzk656/image/202301271356760.png)

```js
const express=require('express');
const app=express();


/*定义第一个全局中间件*/
app.use((req,res,next)=>{
    console.log("调用了第一个全局中间件");
    next();
})
/*定义第二个全局中间件*/
app.use((req,res,next)=>{
    console.log("调用了第一个全局中间件");
    next();
})

app.get('/user',(req,res)=>{
    res.send('user page');
});
app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

![image-20230127140546082](https://cdn.jsdelivr.net/gh/yzk656/image/202301271405242.png)

```JS
const express=require('express');
const app=express();

/*定义中间件函数*/
const mw1=(req,res,next)=>{
    console.log('调用了局部中间件函数');
    next();
};

/*创建路由*/
app.get('/',mw1,(req,res)=>{
    res.send('home page');
});

app.get('/user',(req,res)=>{
    res.send('user page');
});

app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

![image-20230127141619525](https://cdn.jsdelivr.net/gh/yzk656/image/202301271416688.png)

![image-20230127152222252](https://cdn.jsdelivr.net/gh/yzk656/image/202301271522408.png)

![image-20230127152433259](https://cdn.jsdelivr.net/gh/yzk656/image/202301271524435.png)

![image-20230127152602138](https://cdn.jsdelivr.net/gh/yzk656/image/202301271526322.png)

![image-20230127152739776](https://cdn.jsdelivr.net/gh/yzk656/image/202301271527969.png)

```JS
const express=require('express');
const app=express();

app.get('/',(req,res)=>{
    /**
     * 1. 人为制造错误
     * */
    throw new Error('服务器内部发生错误');
    res.send('home page');
});

/*定义错误级别中间件，捕获整个项目的异常错误，从而防止程序崩溃*/
app.use((error,req,res,next)=>{
    console.log('发生了错误'+error.message);
    res.send('Error：'+error.message);
});


app.listen(8080,()=>{
    console.log('正在监听8080端口');
})
```

![image-20230127153934962](https://cdn.jsdelivr.net/gh/yzk656/image/202301271539121.png)

![image-20230127160734115](https://cdn.jsdelivr.net/gh/yzk656/image/202301271607311.png)

![image-20230127162321170](https://cdn.jsdelivr.net/gh/yzk656/image/202301271623328.png)

```js
const express = require('express');
const app = express();

/*注意：除了 错误级别中间件，其他的中间件，必须在路由之前进行配置*/
/*解析json格式的中间件*/
app.use(express.json());

app.post('/user', (req, res) => {
    /*在服务器，可以使用 req.body 这个属性，来接收客户端发送过来的请求体数据*/
    /*默认情况下，如果不配置解析表单数据的中间件，则 req.body 默认为 undefined*/
    console.log(req.body);
    res.send('ok');//{ name: 'yzk', age: 20 }
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

![image-20230127164157354](https://cdn.jsdelivr.net/gh/yzk656/image/202301271641625.png)

```js
const express = require('express');
const app = express();

/*注意：除了 错误级别中间件，其他的中间件，必须在路由之前进行配置*/
/*解析json格式的中间件*/
app.use(express.json());
/*解析表单这 url-encoded 格式的数据*/
app.use(express.urlencoded({extended:false}));

app.post('/user', (req, res) => {
    /*在服务器，可以使用 req.body 这个属性，来接收客户端发送过来的请求体数据*/
    /*默认情况下，如果不配置解析表单数据的中间件，则 req.body 默认为 undefined*/
    console.log(req.body);
    res.send('ok');//{ name: 'yzk', age: 20 }
});

app.post('/book',(req,res)=>{
    /*在服务端，可以通过 req.body 获取json格式的表单数据和 url-encoded 格式的数据*/
    console.log(req.body);
   res.send('ok');
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

![image-20230127164257319](https://cdn.jsdelivr.net/gh/yzk656/image/202301271642612.png)

![image-20230127173741582](https://cdn.jsdelivr.net/gh/yzk656/image/202301271737840.png)

```js
const express = require('express');
const app = express();

/*1. 导入解析表单数据的中间件 body-parser*/
const parser=require('body-parser');
/*使用 app.use() 注册中间件*/
app.use(parser.urlencoded({extended:false}));

app.post('/user',(req,res)=>{
    console.log(req.body);
    res.send('ok');
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

![image-20230127181344218](https://cdn.jsdelivr.net/gh/yzk656/image/202301271813503.png)

```js
const express = require('express');
const app = express();

/*这是解析表单数据的中间件*/
app.use((req, res, next) => {
    /*定义中间件具体的业务逻辑*/
    /*定义一个 str 字符串，专门用来存储客户端发送过来的请求体数据*/
    let str='';
    /*监听 req 的 data 事件*/
    req.on('data',(chunk)=>{
        str+=chunk;
    });
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```



![image-20230127181355423](https://cdn.jsdelivr.net/gh/yzk656/image/202301271813745.png)

```js
const express = require('express');
const app = express();

/*这是解析表单数据的中间件*/
app.use((req, res, next) => {
    /*定义中间件具体的业务逻辑*/
    /*定义一个 str 字符串，专门用来存储客户端发送过来的请求体数据*/
    let str='';
    /*监听 req 的 data 事件*/
    req.on('data',(chunk)=>{
        str+=chunk;
    });
    /*监听 req 的 end 事件*/
    req.on('end',()=>{
        console.log(str);
        /*TODO: 把字符串格式的请求体数据，解析成对象格式*/
    });
});

app.post('/user',(req,res)=>{
    res.send('ok');
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

![image-20230127192952761](https://cdn.jsdelivr.net/gh/yzk656/image/202301271929108.png)

```js
const express = require('express');
const app = express();
/*导入 Node.js 内置的 querystring 模块*/
const qs=require('querystring');

/*这是解析表单数据的中间件*/
app.use((req, res, next) => {
    /*定义中间件具体的业务逻辑*/
    /*定义一个 str 字符串，专门用来存储客户端发送过来的请求体数据*/
    let str='';
    /*监听 req 的 data 事件*/
    req.on('data',(chunk)=>{
        str+=chunk;
    });
    /*监听 req 的 end 事件*/
    req.on('end',()=>{
        // console.log(str);
        /*TODO: 把字符串格式的请求体数据，解析成对象格式*/
        const body=qs.parse(str);
        console.log(body);
    });
});

app.post('/user',(req,res)=>{
    res.send('ok');
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

![image-20230127193543189](https://cdn.jsdelivr.net/gh/yzk656/image/202301271935485.png)

```js
const express = require('express');
const app = express();
/*导入 Node.js 内置的 querystring 模块*/
const qs=require('querystring');

/*这是解析表单数据的中间件*/
app.use((req, res, next) => {
    /*定义中间件具体的业务逻辑*/
    /*定义一个 str 字符串，专门用来存储客户端发送过来的请求体数据*/
    let str='';
    /*监听 req 的 data 事件*/
    req.on('data',(chunk)=>{
        str+=chunk;
    });
    /*监听 req 的 end 事件*/
    req.on('end',()=>{
        // console.log(str);
        /*TODO: 把字符串格式的请求体数据，解析成对象格式*/
        const body=qs.parse(str);
        req.body=body;
        next();
    });
});

app.post('/user',(req,res)=>{
    res.send(req.body);
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

![image-20230127193747052](https://cdn.jsdelivr.net/gh/yzk656/image/202301271937341.png)

==主体==

```js
const express = require('express');
const app = express();

/*导入自己封装的中间件模块*/
const custom_body_parser=require('./13-custom-body-parser');
/*将自定义的中间件函数，注册为全局可用的中间件*/
app.use(custom_body_parser);

app.post('/user',(req,res)=>{
    res.send(req.body);
});

app.listen(8080, () => {
    console.log('正在监听听8080端口！！！');
})
```

==封装==

```js
/*导入 Node.js 内置的 querystring 模块*/
const qs=require('querystring');

const body_parser=(req, res, next) => {
    /*定义中间件具体的业务逻辑*/
    /*定义一个 str 字符串，专门用来存储客户端发送过来的请求体数据*/
    let str='';
    /*监听 req 的 data 事件*/
    req.on('data',(chunk)=>{
        str+=chunk;
    });
    /*监听 req 的 end 事件*/
    req.on('end',()=>{
        // console.log(str);
        /*TODO: 把字符串格式的请求体数据，解析成对象格式*/
        const body=qs.parse(str);
        req.body=body;
        next();
    });
};

module.exports=body_parser;
```

![image-20230127200317800](https://cdn.jsdelivr.net/gh/yzk656/image/202301272003134.png)

![image-20230127200416580](https://cdn.jsdelivr.net/gh/yzk656/image/202301272004895.png)

![image-20230127201027992](https://cdn.jsdelivr.net/gh/yzk656/image/202301272010317.png)

![image-20230127201938279](https://cdn.jsdelivr.net/gh/yzk656/image/202301272019584.png)

```js
const express=require('express');
const app=express();

/*导入路由模块*/
const router=require('./15-api_router');
/*把路由模块注册到 app 上*/
app.use('/api',router);

app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

```js
const express=require('express');
const router=express.Router();

/*这里挂载对应的路由*/
router.get('/get',(req,res)=>{
   /*通过 req.query 获取客户端通过查询字符串，发送到服务器的数据*/
    const query=req.query;
    res.send({
       status:0,    //0:表示处理成功，1表示处理失败
        msg:'GET 请求成功！',
        data:query
    });
});

module.exports=router;
```

![image-20230127202140978](https://cdn.jsdelivr.net/gh/yzk656/image/202301272021316.png)

```js
const express=require('express');
const app=express();

/*配置解析表单数据的中间件*/
app.use(express.urlencoded({extended:false}));


/*导入路由模块*/
const router=require('./15-api_router');
/*把路由模块注册到 app 上*/
app.use('/api',router);

app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

```js
const express = require('express');
const router = express.Router();

/*这里挂载对应的路由*/
router.get('/get', (req, res) => {
    /*通过 req.query 获取客户端通过查询字符串，发送到服务器的数据*/
    const query = req.query;
    res.send({
        status: 0,    //0:表示处理成功，1表示处理失败
        msg: 'GET 请求成功！',
        data: query
    });
});

router.post('/post', (req, res) => {
    /*通过 req.body 获取请求体中包含的 url-encoded 格式数据*/
    const body = req.body;
    res.send({
        status: 0,    //0:表示处理成功，1表示处理失败
        msg: 'POST 请求成功！',
        data: body
    });
})

module.exports = router; 	
```

![image-20230127205902901](https://cdn.jsdelivr.net/gh/yzk656/image/202301272059198.png)

![image-20230127213118991](https://cdn.jsdelivr.net/gh/yzk656/image/202301272131317.png)

```js
const express=require('express');
const app=express();

/*配置解析表单数据的中间件*/
app.use(express.urlencoded({extended:false}));

/*一定要在路由之前，配置 cors 这个中间件，从而解决跨域问题*/
const cors=require('cors');
app.use(cors());

/*导入路由模块*/
const router=require('./15-api_router');
/*把路由模块注册到 app 上*/
app.use('/api',router);

app.listen(8080,()=>{
    console.log('正在监听8080端口！！！');
});
```

![image-20230127213706613](https://cdn.jsdelivr.net/gh/yzk656/image/202301272137927.png)

![image-20230127213752486](https://cdn.jsdelivr.net/gh/yzk656/image/202301272137799.png)

![image-20230127213915197](https://cdn.jsdelivr.net/gh/yzk656/image/202301272139514.png)

![image-20230127213947441](https://cdn.jsdelivr.net/gh/yzk656/image/202301272139736.png)

![image-20230127214157711](https://cdn.jsdelivr.net/gh/yzk656/image/202301272141169.png)

![image-20230127214259430](https://cdn.jsdelivr.net/gh/yzk656/image/202301272142739.png)

![image-20230127214444312](https://cdn.jsdelivr.net/gh/yzk656/image/202301272144615.png)

![image-20230127214610447](https://cdn.jsdelivr.net/gh/yzk656/image/202301272146748.png)

![image-20230127214716424](https://cdn.jsdelivr.net/gh/yzk656/image/202301272147728.png)

![image-20230127215647372](https://cdn.jsdelivr.net/gh/yzk656/image/202301272156644.png)

```js
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.js"></script>
</head>
<body>
<button id="btn_get">GET</button>
<button id="btn-post">POST</button>
<button id="btn-delete">DELETE</button>

<script>
    $(function (){
        /*测试 GET 接口*/
        $('#btn_get').on('click',function (){
            $.ajax({
                type:'GET',
                url:'http://127.0.0.1:8080/api/get',
                data:{
                    name:'yzk',
                    age:20
                },
                success:function (res){
                    console.log(res);
                }
            });
        });
        /*测试 POST 接口*/
        $('#btn_post').on('click',function (){
            $.ajax({
                type:'POST',
                url:'http://127.0.0.1:8080/api/post',
                data:{
                    bookname:'水浒传',
                    author:'施耐庵'
                },
                success:function (res){
                    console.log(res);
                }
            });
        });

        /*为删除按钮绑定点击事件*/
        $('#btn-delete').on('click',function (){
            $.ajax({
               type:'DELETE',
                url:'http://127.0.0.1:8080/api/delete',
                success:function (res){
                    console.log(res);
                }
            });
        });
    })
</script>
</body>
</html>
```

```js
const express = require('express');
const router = express.Router();

/*这里挂载对应的路由*/
router.get('/get', (req, res) => {
    /*通过 req.query 获取客户端通过查询字符串，发送到服务器的数据*/
    const query = req.query;
    res.send({
        status: 0,    //0:表示处理成功，1表示处理失败
        msg: 'GET 请求成功！',
        data: query
    });
});

router.post('/post', (req, res) => {
    /*通过 req.body 获取请求体中包含的 url-encoded 格式数据*/
    const body = req.body;
    res.send({
        status: 0,    //0:表示处理成功，1表示处理失败
        msg: 'POST 请求成功！',
        data: body
    });
})

/*定义 delete 接口*/
router.delete('/delete',(req,res)=>{
    res.send({
        status: 0,    //0:表示处理成功，1表示处理失败
        msg: 'DELETE 请求成功！'
    });
});

module.exports = router;
```

![image-20230127215910400](https://cdn.jsdelivr.net/gh/yzk656/image/202301272159718.png)

![image-20230127215928538](https://cdn.jsdelivr.net/gh/yzk656/image/202301272159888.png)

![image-20230127220412804](https://cdn.jsdelivr.net/gh/yzk656/image/202301272204119.png)

![image-20230127220456869](https://cdn.jsdelivr.net/gh/yzk656/image/202301272204194.png)

![image-20230127221153385](https://cdn.jsdelivr.net/gh/yzk656/image/202301272211730.png)

```js
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.js"></script>
</head>
<body>
<button id="btn_get">GET</button>
<button id="btn-post">POST</button>
<button id="btn-delete">DELETE</button>
<button id="btn-jsonp">JSONP</button>

<script>
    $(function () {
        /*测试 GET 接口*/
        $('#btn_get').on('click', function () {
            $.ajax({
                type: 'GET',
                url: 'http://127.0.0.1:8080/api/get',
                data: {
                    name: 'yzk',
                    age: 20
                },
                success: function (res) {
                    console.log(res);
                }
            });
        });
        /*测试 POST 接口*/
        $('#btn_post').on('click', function () {
            $.ajax({
                type: 'POST',
                url: 'http://127.0.0.1:8080/api/post',
                data: {
                    bookname: '水浒传',
                    author: '施耐庵'
                },
                success: function (res) {
                    console.log(res);
                }
            });
        });

        /*为删除按钮绑定点击事件*/
        $('#btn-delete').on('click', function () {
            $.ajax({
                type: 'DELETE',
                url: 'http://127.0.0.1:8080/api/delete',
                success: function (res) {
                    console.log(res);
                }
            });
        });

        /*为 JSONP 按钮添加点击事件*/
        $('#btn-jsonp').on('click', function () {
            $.ajax({
                type: 'GET',
                url: 'http://127.0.0.1:8080/api/jsonp',
                dataType:'jsonp',/*必须要有的*/
                success:function (res){
                    console.log(res);
                }
            });
        });
    })
</script>
</body>
</html>
```

```js
const express = require('express');
const app = express();

/*配置解析表单数据的中间件*/
app.use(express.urlencoded({extended: false}));

/*必须在配置 cors 中间件之前，配置 JSONP 的接口*/
app.get('/api/jsonp', (req, res) => {
    /*TODO:定义JSONP接口具体的实现过程*/
    /*1. 得到函数名称*/
    const func_name = req.query.callback;
    console.log(func_name);
    /*2. 定义发送到客户端的数据对象*/
    const data = {
        name: '杨振坤',
        age: 20
    };
    /*3. 拼接出一个函数的调用*/
    const script_str = `${func_name}(${JSON.stringify(data)})`;
    /*4. 把拼接的字符串，响应给客户端*/
    res.send(script_str);
})

/*一定要在路由之前，配置 cors 这个中间件，从而解决跨域问题*/
const cors = require('cors');
app.use(cors());

/*导入路由模块*/
const router = require('./15-api_router');
/*把路由模块注册到 app 上*/
app.use('/api', router);

app.listen(8080, () => {
    console.log('正在监听8080端口！！！');
});
```

## 2023-01-28

![image-20230128105821326](https://cdn.jsdelivr.net/gh/yzk656/image/202301281058560.png)

![image-20230128105942675](https://cdn.jsdelivr.net/gh/yzk656/image/202301281059870.png)

![image-20230128110119886](https://cdn.jsdelivr.net/gh/yzk656/image/202301281101092.png)

![image-20230128111251960](https://cdn.jsdelivr.net/gh/yzk656/image/202301281112175.png)

```js
/*查询 users 表中所有数据*/
const sql_str='select * from users';
db.query(sql_str,(error,results)=>{
    if(error)
        return console.log('发生了错误'+error.message);
    /*注意： 如果执行的是 select 查询语句，则执行的结果是数组*/
    else
        console.log(results);
});
```

![image-20230128162642676](https://cdn.jsdelivr.net/gh/yzk656/image/202301281626850.png)

![image-20230128164437681](https://cdn.jsdelivr.net/gh/yzk656/image/202301281644862.png)

```js
/*导入MySQL模块*/
const mysql = require('mysql');

/*建立与 mysql 的数据库连接*/
const db = mysql.createPool({
    host: '127.0.0.1',  //数据库的 IP 地址
    user: 'root',       //登录数据库的账号
    password: 'yzk',    //登录数据库的密码
    database: 'my_db_01'//指定要操作哪个数据库
});

/*测试 MYSQL 模块是否正常工作*/
// db.query('select 1',(error,results)=>{
//     if(error){
//         console.log('出现了错误'+error.message);
//     }
//     else{
//         console.log(results);
//     }
// });

/*查询 users 表中所有数据*/
// const sql_str='select * from users';
// db.query(sql_str,(error,results)=>{
//     if(error)
//         return console.log('发生了错误'+error.message);
//     /*注意： 如果执行的是 select 查询语句，则执行的结果是数组*/
//     else
//         console.log(results);
// });

// /*插入数据*/
// const user = {
//     username: 'spider-man',
//     password: 'pcc123'
// };
// const sql_str = 'insert into users (username,password) values (?,?)';
// db.query(sql_str, [user.username, user.password], (error, results) => {
//     if (error)
//         return console.log(error.message);
//     /*注意： 如果执行的是 insert into 插入语句，则 results 是一个对象
//         可以通过 affectedRows 属性，来判断是否插入数据成功
//     * */
//     if (results.affectedRows === 1)
//         console.log('插入成功！');
// });


/*演示插入数据的便捷方式*/
const user = {
    username: 'spider-man',
    password: 'pcc123'
};
const sql_str = 'insert into users set ?';
db.query(sql_str, user, (err, results) => {
    if (err)
        return console.log(err.message);
    if (results.affectedRows === 1)
        console.log('插入成功！！');
});
```

![image-20230128165008400](https://cdn.jsdelivr.net/gh/yzk656/image/202301281650583.png)

![image-20230128170910562](https://cdn.jsdelivr.net/gh/yzk656/image/202301281709742.png)

![image-20230128171030451](https://cdn.jsdelivr.net/gh/yzk656/image/202301281710621.png)

![image-20230128171715415](https://cdn.jsdelivr.net/gh/yzk656/image/202301281717594.png)

```js
/*演示如何更新用户信息*/
// const user = {
//     id: 5,
//     username: 'aaa',
//     password: '000'
// };
// const sql_str = 'update users set username=?,password=? where id=?';
// db.query(sql_str,[user.username,user.password,user.id],(err,results)=>{
//     if(err)
//         return console.log(err.message);
//     if(results.affectedRows===1)
//         console.log('更新成功！！');
// });

/*演示更新数据的便捷方式*/
// const user = {
//     id: 5,
//     username: 'aaa',
//     password: '001'
// };
// const sql_str='update users set ? where id=?';
// db.query(sql_str,[user,user.id],(err,results)=>{
//     if(err)
//         return console.log(err.message);
//     if(results.affectedRows===1)
//         console.log('更新成功');
// });

/*演示删除数据*/
// const sql_str='delete from users where id=?';
// db.query(sql_str,4,(err,results)=>{
//     if(err)
//         return console.log(err.message);
//     if(results.affectedRows===1)
//         console.log('删除成功');
// });


/*演示标记删除*/
const sql_str = 'update users set status=? where id=?';
db.query(sql_str, [1, 5], (err, results) => {
    if (err)
        return console.log(err.message);
    if (results.affectedRows === 1)
        console.log('标记删除成功');
});

```

## 2023-01-29

![image-20230129094346009](https://cdn.jsdelivr.net/gh/yzk656/image/202301290943197.png)

![image-20230129094506925](https://cdn.jsdelivr.net/gh/yzk656/image/202301290945087.png)

![image-20230129094555241](https://cdn.jsdelivr.net/gh/yzk656/image/202301290945414.png)

![image-20230129094733724](https://cdn.jsdelivr.net/gh/yzk656/image/202301290947867.png)

![image-20230129094918293](https://cdn.jsdelivr.net/gh/yzk656/image/202301290949462.png)

![image-20230129095256230](https://cdn.jsdelivr.net/gh/yzk656/image/202301290952409.png)

![image-20230129095446978](https://cdn.jsdelivr.net/gh/yzk656/image/202301290954123.png)

![image-20230129095646156](https://cdn.jsdelivr.net/gh/yzk656/image/202301290956303.png)

![image-20230129095918791](https://cdn.jsdelivr.net/gh/yzk656/image/202301290959943.png)

![image-20230129100138333](https://cdn.jsdelivr.net/gh/yzk656/image/202301291001481.png)

![image-20230129100812854](https://cdn.jsdelivr.net/gh/yzk656/image/202301291008023.png)

![image-20230129110253462](https://cdn.jsdelivr.net/gh/yzk656/image/202301291102645.png)

![image-20230129110758934](https://cdn.jsdelivr.net/gh/yzk656/image/202301291107086.png)

![image-20230129111038073](https://cdn.jsdelivr.net/gh/yzk656/image/202301291110226.png)

![image-20230129111430424](https://cdn.jsdelivr.net/gh/yzk656/image/202301291114572.png)

![image-20230129111637790](https://cdn.jsdelivr.net/gh/yzk656/image/202301291116944.png)

![image-20230129111658125](https://cdn.jsdelivr.net/gh/yzk656/image/202301291116277.png)

![image-20230129114948830](https://cdn.jsdelivr.net/gh/yzk656/image/202301291149990.png)

![image-20230129115428310](https://cdn.jsdelivr.net/gh/yzk656/image/202301291154459.png)

![image-20230129115947816](https://cdn.jsdelivr.net/gh/yzk656/image/202301291159961.png)

```js
// 导入 express 模块
const express = require('express')
// 创建 express 的服务器实例
const app = express()

// TODO_01：请配置 Session 中间件
const session = require('express-session');
app.use(session({
    secret: 'yzk',
    resave: false,
    saveUninitialized: true
}));

// 托管静态页面
app.use(express.static('./pages'))
// 解析 POST 提交过来的表单数据
app.use(express.urlencoded({extended: false}))

// 登录的 API 接口
app.post('/api/login', (req, res) => {
    // 判断用户提交的登录信息是否正确
    if (req.body.username !== 'admin' || req.body.password !== '000000') {
        return res.send({status: 1, msg: '登录失败'})
    }

    // TODO_02：请将登录成功后的用户信息，保存到 Session 中
    /*注意： 只有成功配置 express-session 这个中间件之后，才能通过 req 点出来这个 session 这个属性*/
    req.session.user = req.body;/*用户信息*/
    req.session.is_login = true;/*用户登录状态*/

    res.send({status: 0, msg: '登录成功'})
})

// 获取用户姓名的接口
app.get('/api/username', (req, res) => {
    // TODO_03：请从 Session 中获取用户的名称，响应给客户端
    if(!req.session.is_login){
        return res.send({
            status:1,
            msg:'fail'
        });
    }
    res.send({
        status:0,
        msg:'success',
        username:req.session.user.username
    });
})

// 退出登录的接口
app.post('/api/logout', (req, res) => {
    // TODO_04：清空 Session 信息
    req.session.destroy();
    res.send({
       status:0,
       msg: '退出登录成功'
    });
})

// 调用 app.listen 方法，指定端口号并启动web服务器
app.listen(80, function () {
    console.log('Express server running at http://127.0.0.1:80')
})
```

![image-20230129120922541](https://cdn.jsdelivr.net/gh/yzk656/image/202301291209704.png)

![image-20230129122226047](https://cdn.jsdelivr.net/gh/yzk656/image/202301291222211.png)

![image-20230129122436519](https://cdn.jsdelivr.net/gh/yzk656/image/202301291224677.png)

![image-20230129122625831](https://cdn.jsdelivr.net/gh/yzk656/image/202301291226986.png)

![image-20230129122813089](https://cdn.jsdelivr.net/gh/yzk656/image/202301291228245.png)

![image-20230129123548758](https://cdn.jsdelivr.net/gh/yzk656/image/202301291235910.png)

![image-20230129123613626](https://cdn.jsdelivr.net/gh/yzk656/image/202301291236781.png)

![image-20230129124244853](https://cdn.jsdelivr.net/gh/yzk656/image/202301291242022.png)

![image-20230129124442043](https://cdn.jsdelivr.net/gh/yzk656/image/202301291244206.png)

![image-20230129125445806](https://cdn.jsdelivr.net/gh/yzk656/image/202301291254985.png)

## 正则表达式

```
\b		单词开头或结尾
. 		任意字符
\d		数字
t{x}	连续重复匹配t共x次
\s		匹配任意空白符，包括空格 制表符 换行符
\w		匹配字母 数字 下划线 汉字
*		》=0
+		》=1
？		0《=x《=1
{3}		指定次数
\b		匹配单词的开始或结束（匹配的是个单词）
^		匹配字符串的开始（源文章的开头）
$		匹配字符串的结束
{3,6}	3《=次数《=6
()		分组【重复多个字符】
[^x]	匹配除了x以外的任意字符
```

![image-20230129221355886](https://cdn.jsdelivr.net/gh/yzk656/image/202301292213974.png)

![image-20230129221615984](https://cdn.jsdelivr.net/gh/yzk656/image/202301292216067.png)

```js
// 导入 express 模块
const express = require('express')
// 创建 express 的服务器实例
const app = express()

// TODO_01：安装并导入 JWT 相关的两个包，分别是 jsonwebtoken 和 express-jwt
const jwt = require('jsonwebtoken');
//导入 express-jwt 包
const express_jwt = require("express-jwt");

// 允许跨域资源共享
const cors = require('cors')
app.use(cors())

// 解析 post 表单数据的中间件
const bodyParser = require('body-parser')
app.use(bodyParser.urlencoded({extended: false}))

// TODO_02：定义 secret 密钥，建议将密钥命名为 secretKey
const secretKey = 'yzk';

// TODO_04：注册将 JWT 字符串解析还原成 JSON 对象的中间件
/*注意 只要配置成功了 express-jwt 这个中间件，就可以把解析出来的用户信息，挂载到 req.user 属性上*/
app.use(express_jwt({secret: secretKey,algorithms: ['HS256']}).unless({path: [/^\/api\//]}))

// 登录接口
app.post('/api/login', function (req, res) {
    // 将 req.body 请求体中的数据，转存为 userinfo 常量
    const userinfo = req.body
    // 登录失败
    if (userinfo.username !== 'admin' || userinfo.password !== '000000') {
        return res.send({
            status: 400,
            message: '登录失败！'
        })
    }
    // 登录成功
    // TODO_03：在登录成功之后，调用 jwt.sign() 方法生成 JWT 字符串。并通过 token 属性发送给客户端
    /**
     * 参数1：用户信息对象
     * 参数2：加密的密钥
     * 参数3：配置对象，可以配置当前token的有效期
     * */
    const token_str = jwt.sign({username: userinfo.username}, secretKey, {expiresIn: '30s'});
    res.send({
        status: 200,
        message: '登录成功！',
        token: token_str // 要发送给客户端的 token 字符串
    })
})

// 这是一个有权限的 API 接口
app.get('/admin/getinfo', function (req, res) {
    // TODO_05：使用 req.user 获取用户信息，并使用 data 属性将用户信息发送给客户端
    /*注意： 这个user属性是自动生成的属性*/
    console.log(req.user);
    res.send({
        status: 200,
        message: '获取用户信息成功！',
        data: req.user // 要发送给客户端的用户信息
    })
})

// TODO_06：使用全局错误处理中间件，捕获解析 JWT 失败后产生的错误
app.use((err,req,res,next)=>{
    /*这次错误是由 token 解析失败导致的*/
    if(err.name==='UnauthorizedError'){
        return res.send({
           status:401,
            message:'无效的token'
        });
    }
    res.send({
       status:500,
       msg: '未知的错误'
    });
})

// 调用 app.listen 方法，指定端口号并启动web服务器
app.listen(8888, function () {
    console.log('Express server running at http://127.0.0.1:8888')
})

```

开发文档：http://escook.cn:8088/#/mds/1.init

==问题：==JavaScript 函数调用时带括号和不带括号的区别

如果函数名后面加上圆括号就表示立即调用（执行）这个函数里面的代码（花括号部分的代码）。

不加括号的，都是把函数名称作为函数的指针，一个函数的名称就是这个函数的指针，此时不是得到函数的结果，因为不会运行函数体代码。它只是传递了函数体所在的地址位置，在需要的时候好找到函数体去执行。

![image-20230130002115840](https://cdn.jsdelivr.net/gh/yzk656/image/202301300021912.png)

![image-20230130002403759](https://cdn.jsdelivr.net/gh/yzk656/image/202301300024820.png)

![image-20230130003741393](https://cdn.jsdelivr.net/gh/yzk656/image/202301300037457.png)

==注意：==属性名要和数据库一一对应

![image-20230130113302772](https://cdn.jsdelivr.net/gh/yzk656/image/202301301133851.png)

```js
const joi = require('@hapi/joi')

/**
 * string() 值必须是字符串
 * alphanum() 值只能是包含 a-zA-Z0-9 的字符串
 * min(length) 最小长度
 * max(length) 最大长度
 * required() 值是必填项，不能为 undefined
 * pattern(正则表达式) 值必须符合正则表达式的规则
 */

// 用户名的验证规则
const username = joi.string().alphanum().min(1).max(10).required()
// 密码的验证规则
const password = joi
  .string()
  .pattern(/^[\S]{6,12}$/)
  .required()

// 注册和登录表单的验证规则对象
exports.reg_login_schema = {
  // 表示需要对 req.body 中的数据进行验证
  body: {
    username,
    password,
  },
}
```

![image-20230130160057865](https://cdn.jsdelivr.net/gh/yzk656/image/202301301600948.png)

![image-20230130160339053](https://cdn.jsdelivr.net/gh/yzk656/image/202301301603098.png)

问题：在安装@hapi/joi时显示`Cannot mix different versions of joi schemas `

解决：卸载`@hapi/joi`,安装`npm i joi`【别忘记改代码里的】

![image-20230131190607912](https://cdn.jsdelivr.net/gh/yzk656/image/202301311906981.png)

只有插入语句和更新语句才使用`results.affectedRows`

![image-20230131191726598](https://cdn.jsdelivr.net/gh/yzk656/image/202301311917657.png)

注意：对于数据中没有加密的密码，使用此方法结果会不对

==js 三个点（...），扩展运算符说明==

![image-20230131193438692](https://cdn.jsdelivr.net/gh/yzk656/image/202301311934767.png)

```js
        /*生成 Token 字符串*/
        const token_str=jwt.sign(user,config.jwtSecretKey,{expiresIn:'10h'});
```

==not a function的可以调整一下代码的顺序，具体看看老师的代码==

![image-20230131211122484](https://cdn.jsdelivr.net/gh/yzk656/image/202301312111564.png)

![image-20230201193904194](https://cdn.jsdelivr.net/gh/yzk656/image/202302011939298.png)

![image-20230201193920422](https://cdn.jsdelivr.net/gh/yzk656/image/202302011939490.png)

==注意：请求体中`user`是根据token生成的==

![image-20230201194328494](https://cdn.jsdelivr.net/gh/yzk656/image/202302011943558.png)

```js
/*dataUri() 指的是如下格式的字符串数据*/
/*data:image/png;base64,VE9PTUFOWVNFQ1JFVFM=*/
const avatar=joi.string().dataUri().required();
```

![image-20230201231218043](https://cdn.jsdelivr.net/gh/yzk656/image/202302012312109.png)

![image-20230202004221948](https://cdn.jsdelivr.net/gh/yzk656/image/202302020042030.png)

![image-20230202205320462](https://cdn.jsdelivr.net/gh/yzk656/image/202302022053678.png)
